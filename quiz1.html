<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>77íšŒ ì•½ì‚¬êµ­ì‹œ ì˜ˆë°©ì•½í•™ (í•´ëƒ„ 3p)</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .quiz-container { background-color: white; width: 100%; max-width: 600px; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); position: relative; }
        
        /* ë©”ì¸ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .home-btn {
            display: inline-block;
            text-decoration: none;
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 8px 12px;
            background-color: #f1f3f5;
            border-radius: 20px;
            transition: all 0.2s;
            font-weight: bold;
        }
        .home-btn:hover { background-color: #e9ecef; color: #333; }

        h1 { font-size: 20px; color: #333; text-align: center; margin-bottom: 20px; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-top: 0; }
        .progress { text-align: right; font-size: 14px; color: #666; margin-bottom: 10px; }
        .question { font-size: 18px; font-weight: bold; margin-bottom: 20px; line-height: 1.5; }
        .options { list-style: none; padding: 0; }
        .options li { margin-bottom: 10px; }
        .options button { width: 100%; padding: 12px; font-size: 16px; text-align: left; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .options button:hover { background-color: #e8f5e9; }
        
        /* ì •ë‹µ/ì˜¤ë‹µ ìŠ¤íƒ€ì¼ */
        .options button.correct { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .options button.wrong { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }
        
        .feedback { margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; font-size: 15px; color: #333; display: none; line-height: 1.6; }
        .feedback strong { color: #d9534f; }
        
        /* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (ì¢Œìš° ë°°ì¹˜) */
        .btn-container { display: flex; gap: 10px; margin-top: 20px; }
        .nav-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; display: none; }
        .prev-btn { background-color: #6c757d; color: white; }
        .prev-btn:hover { background-color: #5a6268; }
        .next-btn { background-color: #4CAF50; color: white; }
        .next-btn:hover { background-color: #45a049; }

        .result-screen { text-align: center; display: none; }
        .score { font-size: 40px; font-weight: bold; color: #4CAF50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container">
    <a href="index.html" class="home-btn">ğŸ  ë©”ì¸ ë©”ë‰´ë¡œ</a>

    <div id="quiz-box">
        <h1>ğŸ’Š ã…ã„´3p ê°ê´€ì‹ 30ì œ</h1>
        <div class="progress" id="progress">ë¬¸ì œ 1 / 30</div>
        <div class="question" id="question-text">ë¬¸ì œ ë¡œë”©ì¤‘...</div>
        <ul class="options" id="options-list"></ul>
        <div class="feedback" id="feedback"></div>
        
        <div class="btn-container">
            <button class="nav-btn prev-btn" id="prev-btn" onclick="prevQuestion()">â¬…ï¸ ì´ì „ ë¬¸ì œ</button>
            <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡ï¸</button>
        </div>
    </div>

    <div class="result-screen" id="result-screen">
        <h1>ìˆ˜ê³ í–ˆìŠµë‹ˆë‹¤! ìë„¤ì˜ ì ìˆ˜ëŠ”?</h1>
        <div class="score" id="final-score"></div>
        <p id="score-message"></p>
        <div class="btn-container">
            <button class="nav-btn next-btn" style="display:block; background-color:#666;" onclick="location.href='index.html'">ë©”ì¸ìœ¼ë¡œ</button>
            <button class="nav-btn next-btn" style="display:block" onclick="location.reload()">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
    </div>
</div>

<script>
    const quizData = [
        { q: "1. ë‹¤ìŒ ì¤‘ AhR(Aryl hydrocarbon Receptor)ê³¼ ê²°í•©í•˜ì—¬ CYP1A ìœ ë„ë¥¼ ì¼ìœ¼í‚¤ëŠ” ë¬¼ì§ˆì€?", a: ["Rifampin", "Ethanol", "Phenobarbital", "PCB, TCDD", "Clofibrate"], c: 3, expl: "CYP1AëŠ” AhRê³¼ ê²°í•©í•˜ë©° ìœ ë„ë¬¼ì§ˆì€ PCB, B(a)P, TCDDì…ë‹ˆë‹¤. (ì•”ê¸°íŒ: ì•ˆì“°ë©´ ë°°ê°€ ë°¥ë¨¹ê³  1ë“±í–ˆë‹¤ ì•„ì‹¸ë¦¬)" },
        { q: "2. PXR(Pregnane X Receptor)ì„ ë§¤ê°œë¡œ í•˜ì—¬ CYP3A4 íš¨ì†Œë¥¼ ê°•ë ¥í•˜ê²Œ ìœ ë„í•˜ëŠ” ì•½ë¬¼ì€?", a: ["Cimetidine", "Rifampin", "Isoniazid", "Grapefruit juice", "Ethanol"], c: 1, expl: "CYP3A4 ìœ ë„ì²´ëŠ” Rifampin(PXR ë§¤ê°œ)ì…ë‹ˆë‹¤. (ì•”ê¸°íŒ: ë¦¬ë²” 3ê°œë¥¼ PXì—ì„œ ìƒ€ì–´)" },
        { q: "3. Isoniazid íˆ¬ì—¬ ì‹œ ë§ì´ˆì‹ ê²½ì—¼ ë°œìƒ ë¹ˆë„ê°€ ë†’ì€ ëŒ€ì‚¬ì  íŠ¹ì§•ì„ ê°€ì§„ í™˜ìêµ°ì€?", a: ["G6PD ê²°í•", "NAT2 Slow acetylator", "CYP2D6 Ultra-rapid", "UGT1A1 ê²°í•", "ALDH ê²°í•"], c: 1, expl: "IsoniazidëŠ” NAT2ì— ì˜í•´ ì•„ì„¸í‹¸í™”ë˜ëŠ”ë°, Slow acetylatorëŠ” ë°°ì„¤ ì§€ì—°ìœ¼ë¡œ ì‹ ê²½ ë…ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤." },
        { q: "4. ì‹ ìƒì•„ì—ì„œ UGT í™œì„±ì´ ë‚®ì•„ Chloramphenicol íˆ¬ì—¬ ì‹œ ë°œìƒí•˜ëŠ” ë…ì„±ì€?", a: ["í•µí™©ë‹¬", "Gray baby syndrome", "ìš©í˜ˆì„± ë¹ˆí˜ˆ", "ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆí˜ˆì¦", "ë‹´ì¦™ ì •ì²´"], c: 1, expl: "ì‹ ìƒì•„ëŠ” UGT1A1 í™œì„±ì´ ë‚®ì•„ Chloramphenicolì´ ì¶•ì ë˜ì–´ íšŒìƒ‰ì•„ê¸°ì¦í›„êµ°ì´ ë°œìƒí•©ë‹ˆë‹¤." },
        { q: "5. Ethanol ëŒ€ì‚¬ ì¤‘ Acetaldehydeë¥¼ Acetateë¡œ ì „í™˜í•˜ëŠ” íš¨ì†Œë¥¼ ì–µì œí•˜ì—¬ ê¸ˆì£¼ìš”ë²•ì— ì´ìš©í•˜ëŠ” ê¸°ì „ì€?", a: ["Catalase ì–µì œ", "CYP2E1 ì–µì œ", "ALDH ì–µì œ (Disulfiram)", "ADH ì–µì œ", "Peroxidase ì–µì œ"], c: 2, expl: "ALDHë¥¼ ì–µì œí•˜ë©´ ìˆ™ì·¨ ë¬¼ì§ˆì¸ Acetaldehydeê°€ ì¶•ì ë˜ì–´ ìˆ ì„ ëª» ë§ˆì‹œê²Œ ë©ë‹ˆë‹¤." },
        { q: "6. ì¥ë‚´ì„¸ê· ì˜ Î²-glucosidaseì— ì˜í•´ ë‹¹ì´ ë–¨ì–´ì§€ë©° Cyanide(ì²­ì‚°)ë¥¼ ìƒì„±í•˜ëŠ” ë°°ë‹¹ì²´ëŠ”?", a: ["Cycasin", "Amygdalin", "Prontosil", "Methotrexate", "Sulfasalazine"], c: 1, expl: "Amygdalinì€ ì¥ë‚´ì„¸ê· ì— ì˜í•´ ê°€ìˆ˜ë¶„í•´ë˜ì–´ ì²­ì‚°ì„ ìƒì„±í•©ë‹ˆë‹¤." },
        { q: "7. ì†Œì²  ì„±ë¶„ìœ¼ë¡œ, ì¥ë‚´ì„¸ê· ì— ì˜í•´ í™œì„±í™”ë˜ì–´ ë°œì•”ë¬¼ì§ˆ(MAM)ì„ ìƒì„±í•˜ëŠ” ê²ƒì€?", a: ["Benzo(a)pyrene", "Dimethylnitrosamine", "Cycasin", "Aflatoxin B1", "Vinyl chloride"], c: 2, expl: "Cycasinì€ ì¥ë‚´ì„¸ê· ì˜ Î²-glucosidaseì— ì˜í•´ ê°€ìˆ˜ë¶„í•´ë˜ì–´ ë°œì•”ì„±ì„ ë±ë‹ˆë‹¤." },
        { q: "8. ì¥ê°„ìˆœí™˜(Enterohepatic circulation)ì—ì„œ í¬í•©ì²´ë¥¼ ê°€ìˆ˜ë¶„í•´í•˜ì—¬ ì¬í¡ìˆ˜ë¥¼ ë•ëŠ” í•µì‹¬ íš¨ì†ŒëŠ”?", a: ["Nitroreductase", "Azoreductase", "Î²-glucuronidase", "Sulfatase", "Decarboxylase"], c: 2, expl: "Î²-glucuronidaseê°€ Glucuronide í¬í•©ì„ ëŠì–´ ì§€ìš©ì„±ì„ ë†’ì—¬ ì¬í¡ìˆ˜ì‹œí‚µë‹ˆë‹¤." },
        { q: "9. ì•½ë¬¼ì˜ ë‹´ì¦™ ë°°ì„¤ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ê²ƒì€?", a: ["ë¶„ìëŸ‰ 200 ì´í•˜", "ì§€ìš©ì„± ë¬¼ì§ˆ ê·¸ëŒ€ë¡œ ë°°ì„¤", "ë¶„ìëŸ‰ >450, ê·¹ì„± ìŒì´ì˜¨ í¬í•©ì²´", "ìˆ˜ë™ì  ê³¼ì •", "ì¬í¡ìˆ˜ ì—†ìŒ"], c: 2, expl: "ë‹´ì¦™ ë°°ì„¤ì€ ë¶„ìëŸ‰ì´ í¬ê³ (>450), ê·¹ì„±ì¸ ìŒì´ì˜¨ í¬í•©ì²´ê°€ ëŠ¥ë™ ìˆ˜ì†¡ë©ë‹ˆë‹¤." },
        { q: "10. ê°„ ì†Œì—½ ì¤‘ì‹¬ì •ë§¥(Zone 3) ê´´ì‚¬ë¥¼ ìœ ë°œí•˜ë©°, CYPì— ì˜í•œ í™œì„±í™”ê°€ í•„ìˆ˜ì ì¸ ë¬¼ì§ˆì€?", a: ["Allyl alcohol", "Fe", "Phosphorus", "CCl4", "Doxorubicin"], c: 3, expl: "Zone 3ëŠ” CYPê°€ ë§ìŠµë‹ˆë‹¤. CCl4ëŠ” CYPì— ì˜í•´ ë¼ë””ì¹¼ì´ ë˜ì–´ ì¤‘ì‹¬ì •ë§¥ ë¶€ìœ„ë¥¼ íŒŒê´´í•©ë‹ˆë‹¤." },
        { q: "11. ê°„ ì†Œì—½ ë¬¸ë§¥ ì£¼ìœ„(Zone 1)ì— ì†ìƒì„ ì£¼ë©°, ì‚°ì†Œ ë†ë„ê°€ ë†’ì€ ê³³ì—ì„œ ë…ì„±ì´ í° ë¬¼ì§ˆì€?", a: ["Acetaminophen", "Halothane", "Allyl alcohol", "Ethanol", "Nitrosamine"], c: 2, expl: "Zone 1(ê³ ì‚°ì†Œ)ì—ì„œ Allyl alcoholì€ Acroleinìœ¼ë¡œ ì‚°í™”ë˜ì–´ ë…ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." },
        { q: "12. ê°„ì„¸í¬ ë‚´ ì¤‘ì„±ì§€ë°© ë°°ì¶œ ì €í•´ë¡œ ì§€ë°©ê°„(Fatty liver)ì„ ìœ ë°œí•˜ëŠ” ëŒ€í‘œ ë¬¼ì§ˆì€?", a: ["Penicillin", "Ethanol", "Vitamin C", "Glucose", "Glucagon"], c: 1, expl: "Ethanol, CCl4 ë“±ì€ VLDL í•©ì„±ì„ ë°©í•´í•˜ì—¬ ì§€ë°©ê°„ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { q: "13. Acetaminophen ê³¼ëŸ‰ ë³µìš© ì‹œ ê°„ ê´´ì‚¬ ê¸°ì „ì€?", a: ["Glucuronide ì¶•ì ", "Sulfate ì¹¨ì „", "CYP ëŒ€ì‚¬ë¡œ NAPQI ìƒì„± ë° GSH ê³ ê°ˆ", "ì‹ ì¥ ë°°ì„¤ ì–µì œ", "ë‹´ì¦™ ì •ì²´"], c: 2, expl: "ëŒ€ì‚¬ í¬í™” -> CYP ê²½ë¡œ -> NAPQI ìƒì„± -> GSH ê³ ê°ˆ -> ê°„ì„¸í¬ ê´´ì‚¬." },
        { q: "14. ì‹ ì¥ ì‚¬êµ¬ì²´ ì¡±ì„¸í¬(Podocyte)ì— ì†ìƒì„ ì£¼ì–´ ë‹¨ë°±ë‡¨ë¥¼ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€?", a: ["Cadmium", "Puromycin", "CCl4", "Lithium", "Mercury"], c: 1, expl: "Puromycin, Doxorubicin ë“±ì€ ì‚¬êµ¬ì²´ ë…ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." },
        { q: "15. ì¬í¡ìˆ˜ê°€ í™œë°œí•œ ê·¼ìœ„ì„¸ë‡¨ê´€(Proximal tubule)ì— ì†ìƒì„ ì£¼ëŠ” ì¤‘ê¸ˆì†ì€?", a: ["Cadmium (Cd)", "Lithium", "Amphotericin B", "NSAIDs", "Puromycin"], c: 0, expl: "ê·¼ìœ„ì„¸ë‡¨ê´€ ë…ì„±: Cd(ì´íƒ€ì´ì´íƒ€ì´), Hg, Gentamicin ë“±." },
        { q: "16. ì§‘í•©ê´€ì—ì„œ ADH ì‘ìš©ì„ ë°©í•´í•˜ì—¬ ì‹ ì„± ìš”ë¶•ì¦ì„ ìœ ë°œí•˜ëŠ” ì•½ë¬¼ì€?", a: ["Penicillin", "Lithium", "Acetaminophen", "Cisplatin", "Gentamicin"], c: 1, expl: "Lithiumì€ ADHë¥¼ ê¸¸í•­í•˜ì—¬ ì§‘í•©ê´€ì—ì„œ ìˆ˜ë¶„ ì¬í¡ìˆ˜ë¥¼ ë°©í•´í•©ë‹ˆë‹¤." },
        { q: "17. í—¤ëª¨ê¸€ë¡œë¹ˆ ì² (Fe)ì´ 3ê°€ë¡œ ì‚°í™”ë˜ì–´ ì‚°ì†Œ ìš´ë°˜ì´ ì €í•˜ëœ ìƒíƒœëŠ”?", a: ["ìš©í˜ˆì„± ë¹ˆí˜ˆ", "ì¬ìƒë¶ˆëŸ‰ì„± ë¹ˆí˜ˆ", "ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆí˜ˆì¦", "ì² ê²°í•ì„± ë¹ˆí˜ˆ", "ê±°ëŒ€ì í˜ˆêµ¬ ë¹ˆí˜ˆ"], c: 2, expl: "Fe2+ -> Fe3+ë¡œ ì‚°í™”ë˜ë©´ ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆ(Met-Hb)ì´ ë©ë‹ˆë‹¤." },
        { q: "18. ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆí˜ˆì¦ì„ ìœ ë°œí•˜ëŠ” ëŒ€í‘œì ì¸ ë¬¼ì§ˆì€?", a: ["Glucose", "Ethanol", "Vitamin C", "Aniline, Nitrobenzene", "Calcium"], c: 3, expl: "ë°©í–¥ì¡± ì•„ë¯¼(Aniline), ë‹ˆíŠ¸ë¡œ í™”í•©ë¬¼(Nitrobenzene) ë“±ì´ ì›ì¸ì…ë‹ˆë‹¤." },
        { q: "19. ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆí˜ˆì¦ í•´ë…ì œ(Fe3+ -> Fe2+ í™˜ì›)ëŠ”?", a: ["Deferoxamine", "EDTA", "Methylene blue", "Atropine", "Pralidoxime"], c: 2, expl: "ì¹˜ë£Œì œëŠ” Methylene blueì…ë‹ˆë‹¤." },
        { q: "20. í™œì„±ì‚°ì†Œ ìƒì„±ìœ¼ë¡œ ì‹¬ì¥ë…ì„±ì„ ìœ ë°œí•˜ëŠ” í•­ì•”ì œëŠ”?", a: ["Cisplatin", "Methotrexate", "Doxorubicin", "Vincristine", "Bleomycin"], c: 2, expl: "Doxorubicinì€ Redox cycleë¡œ í™œì„±ì‚°ì†Œë¥¼ ë§Œë“¤ì–´ ì‹¬ì¥ë…ì„±ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { q: "21. BBB í†µê³¼ í›„ ëŒ€ì‚¬ë˜ì–´ ë„íŒŒë¯¼ ì‹ ê²½ì„ íŒŒê´´, íŒŒí‚¨ìŠ¨ë³‘ ìœ ì‚¬ ì¦ìƒì„ ì¼ìœ¼í‚¤ëŠ” ë¬¼ì§ˆì€?", a: ["MSG", "MPTP", "TTX", "Acrylamide", "Lead"], c: 1, expl: "MPTPëŠ” ë‡Œì—ì„œ MPP+ë¡œ ëŒ€ì‚¬ë˜ì–´ ë„íŒŒë¯¼ ì‹ ê²½ì„¸í¬ë¥¼ íŒŒê´´í•©ë‹ˆë‹¤." },
        { q: "22. ì¶•ì‚­ ëŒê¸° ë§ë‹¨ë¶€í„° ë³€ì„±(Dying-back)ì„ ì¼ìœ¼í‚¤ëŠ” ë¬¼ì§ˆì€?", a: ["TTX", "CO", "Acrylamide, n-Hexane", "Ach", "Glutamate"], c: 2, expl: "Acrylamideì™€ n-Hexaneì€ ì¶•ì‚­ë³‘ì¦(Axonopathy)ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { q: "23. ê¸€ë£¨íƒì‚° ìˆ˜ìš©ì²´ë¥¼ ìê·¹í•˜ì—¬ í¥ë¶„ì„± ì‹ ê²½ë…ì„±ì„ ìœ ë°œí•˜ëŠ” ì‹í’ˆ ì²¨ê°€ë¬¼ì€?", a: ["Saccharin", "Aspartame", "MSG", "Caffeine", "Sorbitol"], c: 2, expl: "MSGëŠ” ê¸€ë£¨íƒì‚°ì—¼ìœ¼ë¡œ í¥ë¶„ì„± ë…ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
        { q: "24. ì—ìŠ¤íŠ¸ë¡œê² ìˆ˜ìš©ì²´ì™€ ê²°í•©í•˜ëŠ” ë‚´ë¶„ë¹„ê³„ êµë€ ë¬¼ì§ˆì€?", a: ["Thalidomide", "Bisphenol A", "Acetaminophen", "Paraquat", "Nicotine"], c: 1, expl: "Bisphenol A(BPA)ëŠ” ëŒ€í‘œì ì¸ í™˜ê²½í˜¸ë¥´ëª¬(Xenoestrogen)ì…ë‹ˆë‹¤." },
        { q: "25. ì„ì‹ ë¶€ ì…ë§ ì•½ìœ¼ë¡œ ì“°ì´ë‹¤ íƒœì•„ ì‚¬ì§€ê²°ì†(Phocomelia)ì„ ìœ ë°œí•œ ì•½ë¬¼ì€?", a: ["DES", "Thalidomide", "Valproic acid", "Ethanol", "Cocaine"], c: 1, expl: "íƒˆë¦¬ë„ë§ˆì´ë“œ(Thalidomide) ì‚¬ê±´ì…ë‹ˆë‹¤." },
        { q: "26. ì„ì‹  ì¤‘ ë³µìš© ì‹œ íƒœì–´ë‚œ ë”¸(F1)ì˜ ì§ˆì•” ë°œìƒì„ ë†’ì´ëŠ” ë¬¼ì§ˆì€?", a: ["DDT", "Dioxin", "DES", "PCB", "TCDD"], c: 2, expl: "DES(Diethylstilbestrol)ëŠ” ê²½íƒœë°˜ ë°œì•”ë¬¼ì§ˆì…ë‹ˆë‹¤." },
        { q: "27. ì‚´ëª¨ë„¬ë¼ ê· ì£¼(His-)ë¥¼ ì´ìš©í•œ ìœ ì „ì ëŒì—°ë³€ì´ ì‹œí—˜ë²•ì€?", a: ["ì†Œí•µ ì‹œí—˜", "Ames test", "ì—¼ìƒ‰ì²´ ì´ìƒ ì‹œí—˜", "Draize test", "Comet assay"], c: 1, expl: "Ames testëŠ” ë³µê·€ëŒì—°ë³€ì´ë¥¼ ì´ìš©í•©ë‹ˆë‹¤." },
        { q: "28. Ames Testì—ì„œ S-9 mixtureë¥¼ ë„£ëŠ” ì´ìœ ëŠ”?", a: ["ë°•í…Œë¦¬ì•„ ì„±ì¥ ì´‰ì§„", "ëŒ€ì‚¬ì  í™œì„±í™”(ê°„ì ‘ë°œì•”ë¬¼ì§ˆ ê²€ì¶œ)", "ì„¸í¬ë²½ íˆ¬ê³¼ì„± ì¦ëŒ€", "ìœ„ì–‘ì„± ê°ì†Œ", "ì˜ì–‘ ê³µê¸‰"], c: 1, expl: "ê°„ íš¨ì†Œ(CYP)ë¥¼ í¬í•¨í•œ S-9 ë¶„íšì„ ë„£ì–´ ëŒ€ì‚¬ í›„ ë°œì•”ì„±ì´ ìƒê¸°ëŠ” ë¬¼ì§ˆì„ ê²€ì¶œí•©ë‹ˆë‹¤." },
        { q: "29. í† ë¼ ëˆˆ/í”¼ë¶€ë¥¼ ì´ìš©í•œ êµ­ì†Œ ìê·¹ì„± ì‹œí—˜ì€?", a: ["Ames test", "Draize test", "Hershberger assay", "Dominant lethal test", "Comet assay"], c: 1, expl: "Draize testëŠ” ì•ˆì ë§‰ ìê·¹ ì‹œí—˜ì…ë‹ˆë‹¤." },
        { q: "30. GFR ì¸¡ì •ì˜ í‘œì¤€ë¬¼ì§ˆ(ì—¬ê³¼ë§Œ ë˜ê³  ì¬í¡ìˆ˜/ë¶„ë¹„ X)ì€?", a: ["Glucose", "PAH", "Inulin", "Urea", "Albumin"], c: 2, expl: "Inulinì€ ì‚¬êµ¬ì²´ ì—¬ê³¼ìœ¨(GFR) ì¸¡ì •ì˜ Gold Standardì…ë‹ˆë‹¤." }
    ];

    let currentQuestion = 0;
    let userAnswers = new Array(quizData.length).fill(null);

    const questionText = document.getElementById("question-text");
    const optionsList = document.getElementById("options-list");
    const feedback = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    const progress = document.getElementById("progress");
    const quizBox = document.getElementById("quiz-box");
    const resultScreen = document.getElementById("result-screen");
    const finalScore = document.getElementById("final-score");
    const scoreMessage = document.getElementById("score-message");

    function loadQuestion() {
        const q = quizData[currentQuestion];
        questionText.innerText = q.q;
        optionsList.innerHTML = "";
        
        progress.innerText = `ë¬¸ì œ ${currentQuestion + 1} / ${quizData.length}`;
        
        if (currentQuestion === 0) {
            prevBtn.style.display = "none";
        } else {
            prevBtn.style.display = "block";
        }

        const answeredIndex = userAnswers[currentQuestion];
        const isAnswered = answeredIndex !== null;

        if (isAnswered) {
            feedback.style.display = "block";
            nextBtn.style.display = "block";
            if (currentQuestion === quizData.length - 1) {
                 nextBtn.innerText = "ê²°ê³¼ ë³´ê¸°";
            } else {
                 nextBtn.innerText = "ë‹¤ìŒ ë¬¸ì œ â¡ï¸";
            }
            
            if (answeredIndex === q.c) {
                feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
            } else {
                feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a[q.c]}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
            }
        } else {
            feedback.style.display = "none";
            nextBtn.style.display = "none";
        }

        q.a.forEach((option, index) => {
            const li = document.createElement("li");
            const btn = document.createElement("button");
            btn.innerText = option;
            
            if (isAnswered) {
                btn.disabled = true;
                if (index === q.c) {
                    btn.classList.add("correct");
                } else if (index === answeredIndex && index !== q.c) {
                    btn.classList.add("wrong");
                }
            } else {
                btn.onclick = () => checkAnswer(index, btn);
            }
            
            li.appendChild(btn);
            optionsList.appendChild(li);
        });
    }

    function checkAnswer(selectedIndex, btn) {
        userAnswers[currentQuestion] = selectedIndex;
        
        const q = quizData[currentQuestion];
        const buttons = optionsList.querySelectorAll("button");
        buttons.forEach(b => b.disabled = true);

        if (selectedIndex === q.c) {
            btn.classList.add("correct");
            feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
        } else {
            btn.classList.add("wrong");
            buttons[q.c].classList.add("correct");
            feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a[q.c]}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
        }

        feedback.style.display = "block";
        nextBtn.style.display = "block";
        
        if (currentQuestion === quizData.length - 1) {
            nextBtn.innerText = "ê²°ê³¼ ë³´ê¸°";
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        let finalScoreValue = 0;
        for (let i = 0; i < quizData.length; i++) {
            if (userAnswers[i] === quizData[i].c) {
                finalScoreValue++;
            }
        }

        quizBox.style.display = "none";
        resultScreen.style.display = "block";
        finalScore.innerText = `${finalScoreValue} / ${quizData.length}ì `;
        
        if (finalScoreValue >= 25) {
            scoreMessage.innerText = "ëŒ€ë‹¨í•˜ë„¤! ì´ ì •ë„ë©´ êµ­ì‹œ ì˜ˆë°©ì•½í•™ì€ ê±±ì • ì—†ê² ì–´!";
        } else if (finalScoreValue >= 15) {
            scoreMessage.innerText = "ì˜í–ˆë„¤! í‹€ë¦° ë¶€ë¶„ë§Œ ë‹¤ì‹œ ë³µìŠµí•˜ë©´ ì™„ë²½í•  ê±¸ì„¸.";
        } else {
            scoreMessage.innerText = "ì¡°ê¸ˆ ë” ë¶„ë°œí•˜ê²Œ. í•´ëƒ„ 3í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ê¼¼ê¼¼íˆ ì½ì–´ë³´ê²Œë‚˜.";
        }
    }

    loadQuestion();
</script>

</body>
</html>
