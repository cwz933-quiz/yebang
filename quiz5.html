<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ˆë°©ì•½í•™ ì‹¤ì „ ëª¨ì˜ê³ ì‚¬</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .quiz-container { background-color: white; width: 100%; max-width: 600px; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); position: relative; }
        
        /* ë©”ì¸ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ */
        .home-btn { display: inline-block; text-decoration: none; color: #666; font-size: 14px; margin-bottom: 20px; padding: 8px 12px; background-color: #f1f3f5; border-radius: 20px; transition: all 0.2s; font-weight: bold; }
        .home-btn:hover { background-color: #e9ecef; color: #333; }

        h1 { font-size: 20px; color: #333; text-align: center; margin-bottom: 20px; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-top: 0; }
        .progress { text-align: right; font-size: 14px; color: #666; margin-bottom: 10px; }
        .question { font-size: 18px; font-weight: bold; margin-bottom: 20px; line-height: 1.5; word-break: keep-all; }
        
        /* ê°ê´€ì‹ ë³´ê¸° ìŠ¤íƒ€ì¼ (í•„ìš”ì‹œ ì‚¬ìš©) */
        .options { list-style: none; padding: 0; }
        .options li { margin-bottom: 10px; }
        .options button { width: 100%; padding: 12px; font-size: 16px; text-align: left; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .options button:hover { background-color: #e8f5e9; }
        .options button.correct { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .options button.wrong { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }

        /* ì£¼ê´€ì‹ ì…ë ¥ ìŠ¤íƒ€ì¼ */
        .input-container { display: flex; gap: 10px; margin-bottom: 10px; }
        .input-answer { flex: 1; padding: 12px; font-size: 16px; border: 2px solid #ddd; border-radius: 8px; outline: none; transition: border 0.3s; }
        .input-answer:focus { border-color: #4CAF50; }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .submit-btn { padding: 12px 15px; background-color: #2196F3; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap; }
        .submit-btn:hover { background-color: #1976D2; }
        .submit-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        /* ì •ë‹µ í™•ì¸(í¬ê¸°) ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .check-btn { padding: 12px 15px; background-color: #f44336; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap; }
        .check-btn:hover { background-color: #d32f2f; }
        .check-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        .feedback { margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; font-size: 15px; color: #333; display: none; line-height: 1.6; }
        .feedback strong { color: #d9534f; }
        
        .btn-container { display: flex; gap: 10px; margin-top: 20px; }
        .nav-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; display: none; }
        .prev-btn { background-color: #6c757d; color: white; }
        .next-btn { background-color: #4CAF50; color: white; }
        
        .result-screen { text-align: center; display: none; }
        .score { font-size: 40px; font-weight: bold; color: #4CAF50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container">
    <a href="index.html" class="home-btn">ğŸ  ë©”ì¸ ë©”ë‰´ë¡œ</a>

    <div id="quiz-box">
        <h1>ğŸ’Š í•´ëƒ„ 6p í•µì‹¬ 50ì œ</h1>
        <div class="progress" id="progress">ë¬¸ì œ 1 / 50</div>
        <div class="question" id="question-text">ë¬¸ì œ ë¡œë”©ì¤‘...</div>
        
        <ul class="options" id="options-list"></ul>
        
        <div class="input-container" id="input-area" style="display:none;">
            <input type="text" class="input-answer" id="text-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            <button class="submit-btn" id="submit-answer-btn" onclick="checkTextAnswer()">ì œì¶œ</button>
            <button class="check-btn" id="check-answer-btn" onclick="showAnswerDirectly()">ì •ë‹µ í™•ì¸</button>
        </div>

        <div class="feedback" id="feedback"></div>
        
        <div class="btn-container">
            <button class="nav-btn prev-btn" id="prev-btn" onclick="prevQuestion()">â¬…ï¸ ì´ì „ ë¬¸ì œ</button>
            <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡ï¸</button>
        </div>
    </div>

    <div class="result-screen" id="result-screen">
        <h1>ìˆ˜ê³ í–ˆìŠµë‹ˆë‹¤! ìë„¤ì˜ ì ìˆ˜ëŠ”?</h1>
        <div class="score" id="final-score"></div>
        <p id="score-message"></p>
        <div class="btn-container">
            <button class="nav-btn next-btn" style="display:block; background-color:#666;" onclick="location.href='index.html'">ë©”ì¸ìœ¼ë¡œ</button>
            <button class="nav-btn next-btn" style="display:block" onclick="location.reload()">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
    </div>
</div>

<script>
    // í•´ëƒ„ 6í˜ì´ì§€ 50ì œ ë°ì´í„°
    const quizData = [
        { type: "text", q: "1. í˜ë‹ì¼€í†¤ë‡¨ì¦(Phenylketonuria) í™˜ìëŠ” ì–´ë–¤ íš¨ì†Œì˜ ê²°í•ìœ¼ë¡œ ì¸í•´ í˜ë‹ì•Œë¼ë‹Œì´ ì¶•ì ë˜ëŠ”ê°€?", a: "Phenylalanine hydroxylase (í˜ë‹ì•Œë¼ë‹Œ ìˆ˜ì‚°í™”íš¨ì†Œ)", expl: "PAH íš¨ì†Œ ê²°í•ìœ¼ë¡œ í˜ë‹ì•Œë¼ë‹Œì´ í‹°ë¡œì‹ ìœ¼ë¡œ ì „í™˜ë˜ì§€ ëª»í•©ë‹ˆë‹¤." },
        { type: "text", q: "2. í˜ë‹ì¼€í†¤ë‡¨ì¦ í™˜ìì˜ ì†Œë³€ì—ì„œ ê²€ì¶œë˜ëŠ” ëŒ€ì‚¬ ì‚°ë¬¼ì€?", a: "o-Hydroxyphenylacetic acid", expl: "í˜ë‹ì•Œë¼ë‹Œì˜ ë¹„ì •ìƒ ëŒ€ì‚¬ì‚°ë¬¼ì…ë‹ˆë‹¤." },
        { type: "text", q: "3. í‹°ë¡œì‹ í˜ˆì¦(Tyrosinemia) Type Iì˜ ì›ì¸ì´ ë˜ëŠ” ê²°í• íš¨ì†Œ ì´ë¦„ì€?", a: "Fumarylacetoacetate hydrolase", expl: "í‹°ë¡œì‹  ëŒ€ì‚¬ ë§ˆì§€ë§‰ ë‹¨ê³„ íš¨ì†Œ ê²°í•ì…ë‹ˆë‹¤." },
        { type: "text", q: "4. í˜¸ëª¨ì‹œìŠ¤í‹´ë‡¨ì¦(Homocysteinuria) í™˜ìì—ê²Œì„œ ë©”í‹°ì˜¤ë‹Œ(Methionine) ì¶•ì ìœ¼ë¡œ ì¸í•´ ê³¨ê²©ê·¼ ì´ìƒ ë° ê³¨ë‹¤ê³µì¦ê³¼ í•¨ê»˜ ë‚˜íƒ€ë‚˜ëŠ” ì¦ìƒì€?", a: "ì§€ëŠ¥ì´ìƒ (Mental retardation)", expl: "ì§€ì  ì¥ì• , ìˆ˜ì •ì²´ íƒˆêµ¬ ë“±ì´ íŠ¹ì§•ì…ë‹ˆë‹¤." },
        { type: "text", q: "5. ë‹¨í’ì‹œëŸ½ë‡¨ì¦(BCKAD ê²°í•)ì€ ë¶„ì§€ì‡„ ì•„ë¯¸ë…¸ì‚°(BCAA) ëŒ€ì‚¬ ì´ìƒì´ë‹¤. í•´ë‹¹ë˜ëŠ” ì•„ë¯¸ë…¸ì‚° 3ê°€ì§€ëŠ”?", a: "Leu, Ile, Val (ë¥˜ì‹ , ì´ì†Œë¥˜ì‹ , ë°œë¦°)", expl: "ì´ 3ê°€ì§€ ì•„ë¯¸ë…¸ì‚°ì´ ëŒ€ì‚¬ë˜ì§€ ëª»í•´ ì†Œë³€ì—ì„œ ë‹¨í’ì‹œëŸ½ ëƒ„ìƒˆê°€ ë‚©ë‹ˆë‹¤." },
        { type: "text", q: "6. ë‹¨í’ì‹œëŸ½ë‡¨ì¦ í™˜ìì—ê²ŒëŠ” ì‹ ê²½ê³„ ì´ìƒê³¼ í•¨ê»˜ ì†Œë³€ì—ì„œ ì–´ë–¤ ëƒ„ìƒˆê°€ ë‚˜ëŠ”ê°€?", a: "ë‹¨í’ì‹œëŸ½ ëƒ„ìƒˆ (Maple syrup smell)", expl: "BCAAì˜ ì¼€í† ì‚° ë¶€ì‚°ë¬¼ ë•Œë¬¸ì…ë‹ˆë‹¤." },
        { type: "text", q: "7. ì¥ì—¼ ë¹„ë¸Œë¦¬ì˜¤ê· (V. parahaemolyticus)ì€ ì†Œê¸ˆê¸°ê°€ ìˆëŠ” í™˜ê²½ì„ ì¢‹ì•„í•˜ëŠ” ì„±ì§ˆì´ ìˆëŠ”ë°, ì´ë¥¼ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?", a: "í˜¸ì—¼ì„±", expl: "3~4%ì˜ ì—¼ë¶„ ë†ë„ì—ì„œ ê°€ì¥ ì˜ ì¦ì‹í•©ë‹ˆë‹¤." },
        { type: "text", q: "8. ì¥ì—¼ ë¹„ë¸Œë¦¬ì˜¤ê· ì´ ìƒì„±í•˜ëŠ” ë‚´ì—´ì„± ìš©í˜ˆë…ì†Œì— ì˜í•´ ì í˜ˆêµ¬ê°€ íŒŒê´´ë˜ëŠ” í˜„ìƒì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?", a: "ê°€ë‚˜ê°€ì™€ í˜„ìƒ (Kanagawa phenomenon)", expl: "ì¸ì²´ ìœ ë˜ í˜ˆêµ¬ì—ì„œ ìš©í˜ˆì„ ì¼ìœ¼í‚¤ëŠ” í˜„ìƒì…ë‹ˆë‹¤." },
        { type: "text", q: "9. ì¥ì—¼ ë¹„ë¸Œë¦¬ì˜¤ê· ì€ ì£¼ë¡œ ì—¬ë¦„ì² ì— ì˜¤ì—¼ëœ (   )ë¥¼ ì„­ì·¨í•˜ì—¬ ê°ì—¼ëœë‹¤.", a: "ì–´íŒ¨ë¥˜", expl: "í•´ì‚°ë¬¼, ìƒì„ íšŒ ë“±ì´ ì£¼ì›ì¸ì…ë‹ˆë‹¤." },
        { type: "text", q: "10. ë³‘ì›ì„±ëŒ€ì¥ê· (EHEC) O157 ê°ì—¼ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¹˜ëª…ì ì¸ ì‹ ì¥ í•©ë³‘ì¦ì€?", a: "ìš©í˜ˆì„± ìš”ë… ì¦í›„êµ° (HUS)", expl: "ì í˜ˆêµ¬ íŒŒê´´ì™€ ì‹ ì¥ ê¸°ëŠ¥ ì†ìƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤." },
        { type: "text", q: "11. í™©ìƒ‰í¬ë„ìƒêµ¬ê· (S. aureus)ì´ ìƒì„±í•˜ëŠ” ë…ì†Œë¡œ, ë‚´ì—´ì„±ì´ ê°•í•œ ê²ƒì€?", a: "Enterotoxin (ì¥ë…ì†Œ)", expl: "100ë„ì—ì„œ ë“ì—¬ë„ íŒŒê´´ë˜ì§€ ì•ŠëŠ” ë‚´ì—´ì„± ë…ì†Œì…ë‹ˆë‹¤." },
        { type: "text", q: "12. í™©ìƒ‰í¬ë„ìƒêµ¬ê·  ì‹ì¤‘ë…ì˜ ì ë³µê¸°ëŠ” ë‹¤ë¥¸ ì„¸ê· ì„± ì‹ì¤‘ë…ì— ë¹„í•´ (ê¸¸ë‹¤/ì§§ë‹¤).", a: "ì§§ë‹¤ (3ì‹œê°„ ë‚´ì™¸)", expl: "ë…ì†Œí˜• ì‹ì¤‘ë…ì´ë¯€ë¡œ ì ë³µê¸°ê°€ í‰ê·  3ì‹œê°„ ì •ë„ë¡œ ë§¤ìš° ì§§ìŠµë‹ˆë‹¤." },
        { type: "text", q: "13. ë³´íˆ´ë¦¬ëˆ„ìŠ¤ê· (C. botulinum) ë…ì†ŒëŠ” ë§ì´ˆì‹ ê²½ì—ì„œ ì–´ë–¤ ì‹ ê²½ì „ë‹¬ë¬¼ì§ˆì˜ ìœ ë¦¬ë¥¼ ì°¨ë‹¨í•˜ëŠ”ê°€?", a: "Acetylcholine (ì•„ì„¸í‹¸ì½œë¦° / Ach)", expl: "ì•„ì„¸í‹¸ì½œë¦° ë°©ì¶œì„ ë§‰ì•„ ì´ì™„ì„± ë§ˆë¹„ë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤." },
        { type: "text", q: "14. ë³´íˆ´ë¦¬ëˆ„ìŠ¤ê·  ì‹ì¤‘ë…ì€ ì£¼ë¡œ í†µì¡°ë¦¼ì´ë‚˜ ì†Œì‹œì§€ ë“± (   ) ìƒíƒœì˜ ì‹í’ˆì—ì„œ ë°œìƒí•œë‹¤.", a: "í˜ê¸°ì„± (í†µì¡°ë¦¼ ë“±)", expl: "ì‚°ì†Œê°€ ì—†ëŠ” ë°€íëœ í™˜ê²½ì—ì„œ ë…ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤." },
        { type: "text", q: "15. ì•Œë ˆë¥´ê¸°ì„± ì‹ì¤‘ë…ì˜ ì›ì¸ë¬¼ì§ˆì¸ íˆìŠ¤íƒ€ë¯¼(Histamine)ì€ ì–´ë–¤ ì•„ë¯¸ë…¸ì‚°ì´ íƒˆíƒ„ì‚°ë˜ì–´ ìƒì„±ë˜ëŠ”ê°€?", a: "Histidine (íˆìŠ¤í‹°ë”˜)", expl: "ë¶‰ì€ ì‚´ ìƒì„ (ë“±í‘¸ë¥¸ ìƒì„ )ì— ë§ì€ íˆìŠ¤í‹°ë”˜ì´ ë³€íŒ¨ë˜ì–´ ìƒì„±ë©ë‹ˆë‹¤." },
        { type: "text", q: "16. ë…¸ë¡œë°”ì´ëŸ¬ìŠ¤(Norovirus) ì‹ì¤‘ë…ì˜ ì£¼ëœ ì›ì¸ ì‹í’ˆì¸ íŒ¨ë¥˜ëŠ”?", a: "êµ´ (Oyster)", expl: "ê²¨ìš¸ì²  ìƒêµ´ ì„­ì·¨ê°€ ì£¼ëœ ê°ì—¼ ê²½ë¡œì…ë‹ˆë‹¤." },
        { type: "text", q: "17. ë³µì–´ë…(Tetrodotoxin)ì€ ì£¼ë¡œ ë‚œì†Œì™€ (  )ì— ì¡´ì¬í•œë‹¤.", a: "ê°„", expl: "ë‚œì†Œ(ì•Œ)ì™€ ê°„(ë‚´ì¥)ì— ë…ì„±ì´ ê°€ì¥ ê°•í•©ë‹ˆë‹¤." },
        { type: "text", q: "18. ë³µì–´ë…ì€ ì‹ ê²½ì„¸í¬ë§‰ì˜ ì–´ë–¤ ì´ì˜¨ ì±„ë„ì„ ì–µì œ(ì°¨ë‹¨)í•˜ì—¬ ë§ˆë¹„ë¥¼ ì¼ìœ¼í‚¤ëŠ”ê°€?", a: "Na+ channel (ë‚˜íŠ¸ë¥¨ ì±„ë„)", expl: "ë‚˜íŠ¸ë¥¨ ìœ ì…ì„ ì°¨ë‹¨í•˜ì—¬ ì‹ ê²½ ì „ë„ë¥¼ ë§‰ìŠµë‹ˆë‹¤." },
        { type: "text", q: "19. ë°”ì§€ë½(ëª¨ì‹œì¡°ê°œ) ì„­ì·¨ë¡œ ì¸í•œ ì¤‘ë…(Venerupin) ì‹œ ì£¼ë¡œ ì†ìƒë˜ëŠ” ì¥ê¸°ëŠ”?", a: "ê°„ (ê°„ê¸°ëŠ¥ì €í•˜)", expl: "ë² ë„¤ë£¨í•€ ì¤‘ë…ì€ ê°„ ì¶œí˜ˆ, ê°„ ê´´ì‚¬ ë“±ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "20. ë§ˆë¹„ì„± íŒ¨ì¤‘ë…(PSP)ì˜ ì›ì¸ ë…ì†Œì¸ Saxitoxinê³¼ Gonyautoxinì€ ë³µì–´ë…ê³¼ ìœ ì‚¬í•˜ê²Œ (Na+ ì±„ë„)ì„ ì°¨ë‹¨í•œë‹¤.", a: "Na+ ì±„ë„ (ë‚˜íŠ¸ë¥¨ ì±„ë„)", expl: "ì‚­ì‹œí†¡ì‹ ì€ í…ŒíŠ¸ë¡œë„í†¡ì‹ ê³¼ ê¸°ì „ì´ ìœ ì‚¬í•©ë‹ˆë‹¤." },
        { type: "text", q: "21. ì„¤ì‚¬ì„± íŒ¨ì¤‘ë…ì„ ì¼ìœ¼í‚¤ëŠ” ë…ì†Œì˜ ì´ë¦„ì€?", a: "Okadaic acid (ì˜¤ì¹´ë‹¤ìµì‚°)", expl: "Dinophysistoxin ë“±ë„ ì›ì¸ ë¬¼ì§ˆì…ë‹ˆë‹¤." },
        { type: "text", q: "22. ì‹œêµ¬ì•„í†¡ì‹ (Ciguatoxin) ì¤‘ë… ì‹œ ë‚˜íƒ€ë‚˜ëŠ” íŠ¹ì§•ì ì¸ ê°ê° ì´ìƒì€? (ì˜¨ë„ ê´€ë ¨)", a: "ë“œë¼ì´ì•„ì´ìŠ¤ ê°ê° (ì˜¨ë„ ê°ê° ì´ìƒ)", expl: "ì°¬ ê²ƒì„ ëœ¨ê²ê²Œ ëŠë¼ëŠ” ë“±ì˜ ì˜¨ë„ ê°ê° ì—­ì „ì´ ì¼ì–´ë‚©ë‹ˆë‹¤." },
        { type: "text", q: "23. ë…ë²„ì„¯ ë…ì†Œì¸ Amanitatoxinì€ ì„¸í¬ ë‚´ì—ì„œ (           )ë¥¼ ì €í•´í•˜ì—¬ ë‹¨ë°±ì§ˆ í•©ì„±ì„ ë°©í•´í•œë‹¤.", a: "RNA polymerase (RNA ì¤‘í•©íš¨ì†Œ)", expl: "RNA polymerase IIë¥¼ ì €í•´í•˜ì—¬ ê°„ì„¸í¬ ê´´ì‚¬ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "24. ë¬´ìŠ¤ì¹´ë¦°(Muscarine) ì¤‘ë… ì‹œ ë¶€êµê°ì‹ ê²½ì´ í¥ë¶„ë˜ëŠ”ë°, ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í•´ë…ì œëŠ”?", a: "Atropine (ì•„íŠ¸ë¡œí•€)", expl: "ì•„íŠ¸ë¡œí•€ì€ ë¬´ìŠ¤ì¹´ë¦° ìˆ˜ìš©ì²´ ê¸¸í•­ì œì…ë‹ˆë‹¤." },
        { type: "text", q: "25. ë¶€ì(Aconite)ì— í•¨ìœ ëœ Aconitineì€ Na+ ì±„ë„ì„ (ì°¨ë‹¨/í™œì„±í™”)ì‹œì¼œ ê°•ì§ì„ ìœ ë°œí•œë‹¤.", a: "í™œì„±í™” (Open)", expl: "ì•„ì½”ë‹ˆí‹´ì€ Na+ ì±„ë„ì„ ì§€ì†ì ìœ¼ë¡œ ì—´ì–´(í™œì„±í™”) ë‘¡ë‹ˆë‹¤." },
        { type: "text", q: "26. ì‚´êµ¬, ë§¤ì‹¤, ë³µìˆ­ì•„ ë“±ì˜ ì”¨ì— ë“¤ì–´ìˆëŠ” ì²­ì‚°ë°°ë‹¹ì²´ ì´ë¦„ì€?", a: "Amygdalin (ì•„ë¯¸ê·¸ë‹¬ë¦°)", expl: "ê°€ìˆ˜ë¶„í•´ ì‹œ ì²­ì‚°ì„ ìƒì„±í•©ë‹ˆë‹¤." },
        { type: "text", q: "27. ì²­ì‚°ë°°ë‹¹ì²´(Amygdalin)ëŠ” ì¥ë‚´ íš¨ì†Œì¸ ë² íƒ€-ê¸€ë£¨ì½”ì‹œë‹¤ì•„ì œì— ì˜í•´ ë¶„í•´ë˜ì–´ ë§¹ë…ì„± ê°€ìŠ¤ì¸ (    )ì„ ìƒì„±í•œë‹¤.", a: "HCN (ì‹œì•ˆí™”ìˆ˜ì†Œ / ì²­ì‚°)", expl: "ì„¸í¬ í˜¸í¡ì„ ì–µì œí•˜ì—¬ ì§ˆì‹ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "28. ê°ì ì‹¹ì´ë‚˜ ê»ì§ˆì— ë“¤ì–´ìˆëŠ” ì•Œì¹¼ë¡œì´ë“œ ë…ì„±ë¶„ì€?", a: "Solanine (ì†”ë¼ë‹Œ)", expl: "ì½œë¦°ì—ìŠ¤í…Œë¼ì•„ì œë¥¼ ì–µì œí•˜ì—¬ ì‹ì¤‘ë…ì„ ì¼ìœ¼í‚µë‹ˆë‹¤." },
        { type: "text", q: "29. Aspergillus flavus ê³°íŒ¡ì´ê°€ ìƒì„±í•˜ë©°, ê°•ë ¥í•œ ê°„ì•” ìœ ë°œ ë¬¼ì§ˆì€?", a: "Aflatoxin (ì•„í”Œë¼í†¡ì‹ )", expl: "íŠ¹íˆ B1 í˜•ì´ ë…ì„±ì´ ê°€ì¥ ê°•í•©ë‹ˆë‹¤." },
        { type: "text", q: "30. Penicillium ì† ê³°íŒ¡ì´ê°€ í•€ 'í™©ë³€ë¯¸' ë…ì†Œ ì¤‘, ì‹ ê²½ë…ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì€?", a: "Citreoviridin (ì‹œíŠ¸ë ˆì˜¤ë¹„ë¦¬ë”˜)", expl: "ì‹ ê²½ ë§ˆë¹„, í˜¸í¡ ê³¤ë€ ë“±ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "31. Fusarium ì† ê³°íŒ¡ì´ ë…ì†Œì¸ Zearalenoneì€ ì–´ë–¤ í˜¸ë¥´ëª¬ê³¼ ìœ ì‚¬í•œ ì‘ìš©ì„ í•˜ì—¬ ìƒì‹ê¸° ì¥ì• ë¥¼ ì¼ìœ¼í‚¤ëŠ”ê°€?", a: "Estrogen (ì—ìŠ¤íŠ¸ë¡œê² / ë‚œí¬í˜¸ë¥´ëª¬)", expl: "ë¼ì§€ì˜ ë¶ˆì„ ë“±ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "32. ë§¥ê°ê· (Ergot)ì´ ìƒì„±í•˜ëŠ” Ergotamineì€ í˜ˆê´€ ë° ìê¶ í‰í™œê·¼ì„ (ìˆ˜ì¶•/ì´ì™„)ì‹œí‚¨ë‹¤.", a: "ìˆ˜ì¶•", expl: "í˜ˆê´€ ìˆ˜ì¶•ìœ¼ë¡œ ì¸í•œ ê´´ì €, ìê¶ ìˆ˜ì¶•ìœ¼ë¡œ ì¸í•œ ìœ ì‚° ë“±ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
        { type: "text", q: "33. ìœ í•´ ê°ë¯¸ë£Œ ì¤‘ 'ë°©ê´‘ì•”'ì„ ìœ ë°œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì§„ ë¬¼ì§ˆì€?", a: "Cyclamate (ì‚¬ì´í´ë¼ë©”ì´íŠ¸)", expl: "í˜„ì¬ ì‚¬ìš©ì´ ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "34. ìœ í•´ ê°ë¯¸ë£Œ ì¤‘ í˜ˆì•¡ë…ê³¼ ê°„ì•”ì„ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€? (íŒíŠ¸: Dë¡œ ì‹œì‘)", a: "Dulcin (ë‘˜ì‹ )", expl: "ì„¤íƒ•ì˜ 250ë°° ë‹¨ë§›ì„ ë‚´ì§€ë§Œ ë…ì„±ì´ ê°•í•´ ê¸ˆì§€ë˜ì—ˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "35. ìœ í•´ í‘œë°±ì œì¸ ë¡±ê°ˆë¼ì´íŠ¸(Rongalite)ëŠ” ë¶„í•´ë˜ì–´ ìœ ë…í•œ (     )ë¥¼ ìƒì„±í•œë‹¤.", a: "í¼ì•Œë°í•˜ì´ë“œ (Formaldehyde)", expl: "í¬ë¦„ì•Œë°íˆë“œì˜ ë…ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤." },
        { type: "text", q: "36. ë³´ì¡´ë£Œ ì¤‘ ì•ˆì‹í–¥ì‚°(Benzoic acid)ê³¼ ì†Œë¥´ë¹ˆì‚°(Sorbic acid)ì€ pHê°€ (ë‚®ì„ìˆ˜ë¡/ë†’ì„ìˆ˜ë¡) íš¨ê³¼ê°€ ì¢‹ë‹¤.", a: "ë‚®ì„ìˆ˜ë¡ (ì‚°ì„±ì¼ìˆ˜ë¡)", expl: "ë¹„í•´ë¦¬í˜• ë¶„ìê°€ ì„¸í¬ë§‰ì„ í†µê³¼í•˜ì—¬ í•­ê·  ì‘ìš©ì„ í•©ë‹ˆë‹¤." },
        { type: "text", q: "37. íŒŒë¼ë²¤(Paraben)ë¥˜ ë³´ì¡´ë£ŒëŠ” ì‚°í˜• ë³´ì¡´ë£Œì— ë¹„í•´ ë…ì„±ì´ (ì ë‹¤/ë§ë‹¤).", a: "ì ë‹¤", expl: "ë…ì„±ì´ ë‚®ê³  ë„“ì€ pH ë²”ìœ„ì—ì„œ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "38. ì‚°í™”ë°©ì§€ì œ ì¤‘ BHA, BHTëŠ” ë¬¼ì— ë…¹ì§€ ì•ŠëŠ” (      )ì´ë‹¤.", a: "ì§€ìš©ì„±", expl: "ìœ ì§€ ì‹í’ˆì˜ ì‚°íŒ¨ ë°©ì§€ì— ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤." },
        { type: "text", q: "39. ë°œìƒ‰ì œì¸ ì•„ì§ˆì‚°ì—¼(Nitrite)ì€ 2ê¸‰ ì•„ë¯¼ê³¼ ë°˜ì‘í•˜ì—¬ ë°œì•”ë¬¼ì§ˆì¸ ë¬´ì—‡ì„ ìƒì„±í•˜ëŠ”ê°€?", a: "Nitrosamine (ë‹ˆíŠ¸ë¡œì‚¬ë¯¼)", expl: "ìœ¡ê°€ê³µí’ˆ ì„­ì·¨ ì‹œ ì£¼ì˜í•´ì•¼ í•  ë°œì•”ë¬¼ì§ˆì…ë‹ˆë‹¤." },
        { type: "text", q: "40. ì•„ì§ˆì‚°ì—¼ ê³¼ë‹¤ ì„­ì·¨ ì‹œ ì˜ìœ ì•„ì—ê²Œ ì²­ìƒ‰ì¦(Blue baby syndrome)ì„ ìœ ë°œí•˜ëŠ” ì›ì¸ ë¬¼ì§ˆì€? (í—¤ëª¨ê¸€ë¡œë¹ˆ ë³€ì„±)", a: "Met-Hb (ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆ)", expl: "ì‚°ì†Œ ìš´ë°˜ ëŠ¥ë ¥ì´ ì—†ëŠ” Met-Hbê°€ ì¦ê°€í•©ë‹ˆë‹¤." },
        { type: "text", q: "41. í‘œë°±ì œì¸ ì•„í™©ì‚°ì—¼ì€ ì‹í’ˆ ì¤‘ì˜ (            )ì„ íŒŒê´´í•  ìˆ˜ ìˆë‹¤.", a: "ë¹„íƒ€ë¯¼ B1 (Thiamine)", expl: "í‹°ì•„ë¯¼ì„ ë¶„í•´í•˜ë¯€ë¡œ ì˜ì–‘ ì†ì‹¤ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "42. ê°ë¯¸ë£Œ ì¤‘ ì„¤íƒ•ì˜ 300ë°° ë‹¨ë§›ì„ ë‚´ë©°, ì¸ì²´ì— í¡ìˆ˜ë˜ì§€ ì•Šê³  ë°°ì„¤ë˜ëŠ” ê²ƒì€?", a: "Saccharin Na (ì‚¬ì¹´ë¦°)", expl: "ì¹¼ë¡œë¦¬ê°€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤." },
        { type: "text", q: "43. ì±„ì†Œë¥¼ í†µí•´ ê²½êµ¬ ê°ì—¼ë˜ëŠ” ê¸°ìƒì¶©ì—ëŠ” íšŒì¶©, êµ¬ì¶©, ê·¸ë¦¬ê³  (              ) ë“±ì´ ìˆë‹¤.", a: "ë™ì–‘ëª¨ì–‘ì„ ì¶©", expl: "ì±„ì†Œ ë§¤ê°œ ê¸°ìƒì¶©: íšŒì¶©, í¸ì¶©, êµ¬ì¶©, ë™ì–‘ëª¨ì–‘ì„ ì¶©" },
        { type: "text", q: "44. ê°„ë””ìŠ¤í† ë§ˆ(Clonorchis sinensis)ëŠ” ì œ2ì¤‘ê°„ìˆ™ì£¼ì¸ (         )ë¥¼ íšŒë¡œ ë¨¹ì–´ ê°ì—¼ëœë‹¤.", a: "ë‹´ìˆ˜ì–´ (ë¯¼ë¬¼ê³ ê¸° / ë¶•ì–´, ì‰ì–´)", expl: "ì™œìš°ë (1ì¤‘ê°„) -> ë‹´ìˆ˜ì–´(2ì¤‘ê°„) -> ì‚¬ëŒ" },
        { type: "text", q: "45. íë””ìŠ¤í† ë§ˆ(Paragonimus westermani)ì˜ ì œ2ì¤‘ê°„ìˆ™ì£¼ëŠ” ê°€ì¬ì™€ ë¬´ì—‡ì¸ê°€?", a: "ê²Œ (Crab)", expl: "ê°€ì¬ë‚˜ ê²Œë¥¼ ìƒì‹í•˜ì—¬ ê°ì—¼ë©ë‹ˆë‹¤." },
        { type: "text", q: "46. ê´‘ì ˆì—´ë‘ì¡°ì¶©ì€ ë¹„íƒ€ë¯¼ B12 í¡ìˆ˜ë¥¼ ë°©í•´í•˜ì—¬ ì–´ë–¤ ë¹ˆí˜ˆì„ ìœ ë°œí•˜ëŠ”ê°€?", a: "ì•…ì„±ë¹ˆí˜ˆ (ê±°ëŒ€ì ì•„êµ¬ì„± ë¹ˆí˜ˆ)", expl: "ê¸´ ì´Œì¶©ì´ ì˜ì–‘ë¶„ì„ ëºì–´ê°€ì„œ ë°œìƒí•©ë‹ˆë‹¤." },
        { type: "text", q: "47. ë¬´êµ¬ì¡°ì¶©(ë¯¼ì´Œì¶©)ì€ (      )ë¥¼ ì¤‘ê°„ìˆ™ì£¼ë¡œ í•œë‹¤.", a: "ì†Œ", expl: "ì†Œê³ ê¸° ìœ¡íšŒ ë“±ì„ í†µí•´ ê°ì—¼ë©ë‹ˆë‹¤." },
        { type: "text", q: "48. ìœ êµ¬ì¡°ì¶©(ê°ˆê³ ë¦¬ì´Œì¶©)ì€ (        )ë¥¼ ì¤‘ê°„ìˆ™ì£¼ë¡œ í•˜ë©°, ìœ ì¶©ì´ ë‡Œ ë“±ì— ê¸°ìƒí•˜ëŠ” ë‚­ë¯¸ì¶©ì¦ì„ ìœ ë°œí•œë‹¤.", a: "ë¼ì§€", expl: "ë¼ì§€ê³ ê¸°ë¥¼ í†µí•´ ê°ì—¼ë˜ë©° ë‡Œë‚­ë¯¸ì¶©ì¦ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "49. ê³ ì–‘ì´ ë¶„ë³€ì„ í†µí•´ ë°°ì¶œë˜ë©°, ì„ì‚°ë¶€ ê°ì—¼ ì‹œ íƒœì•„ì—ê²Œ ìœ„í—˜í•œ ì›ì¶©ì€?", a: "Toxoplasma (í†¡ì†Œí”Œë¼ì¦ˆë§ˆ)", expl: "íƒœì•„ ê¸°í˜•ì´ë‚˜ ìœ ì‚°ì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
        { type: "text", q: "50. ì‹í’ˆì˜ ìˆ˜ë¶„í™œì„±(Aw)ì´ (        ) ì´í•˜ì´ë©´ ë¯¸ìƒë¬¼ì´ ë²ˆì‹í•˜ê¸° ì–´ë µë‹¤.", a: "0.65", expl: "ì¼ë°˜ì ìœ¼ë¡œ ì„¸ê· ì€ 0.9, ê³°íŒ¡ì´ëŠ” 0.8 ì´ìƒì—ì„œ ì˜ ìëë‹ˆë‹¤." }
    ];

    let currentQuestion = 0;
    // ì‚¬ìš©ì ë‹µì•ˆ ì €ì¥
    let userAnswers = new Array(quizData.length).fill(null);
    // ì •ë‹µ ì—¬ë¶€ ì €ì¥
    let correctnessArr = new Array(quizData.length).fill(null);

    const questionText = document.getElementById("question-text");
    const optionsList = document.getElementById("options-list");
    const inputArea = document.getElementById("input-area");
    const textInput = document.getElementById("text-input");
    const submitBtn = document.getElementById("submit-answer-btn");
    const checkBtn = document.getElementById("check-answer-btn");
    
    const feedback = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    const progress = document.getElementById("progress");
    const quizBox = document.getElementById("quiz-box");
    const resultScreen = document.getElementById("result-screen");
    const finalScore = document.getElementById("final-score");
    const scoreMessage = document.getElementById("score-message");

    // ì—”í„°í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸
    textInput.addEventListener("keydown", function(event) {
        if (event.key === "Enter" && !submitBtn.disabled) {
            checkTextAnswer();
        }
    });

    function loadQuestion() {
        const q = quizData[currentQuestion];
        questionText.innerText = q.q;
        optionsList.innerHTML = "";
        feedback.style.display = "none";
        progress.innerText = `ë¬¸ì œ ${currentQuestion + 1} / ${quizData.length}`;
        
        prevBtn.style.display = (currentQuestion === 0) ? "none" : "block";

        const qType = q.type || "choice";

        if (qType === "text") {
            // [ì£¼ê´€ì‹ ëª¨ë“œ]
            optionsList.style.display = "none";
            inputArea.style.display = "flex";
            
            if (userAnswers[currentQuestion] !== null) {
                if (userAnswers[currentQuestion] === "GIVE_UP") {
                    textInput.value = "";
                    textInput.placeholder = "í¬ê¸°í•œ ë¬¸ì œì…ë‹ˆë‹¤.";
                } else {
                    textInput.value = userAnswers[currentQuestion];
                }
                
                textInput.disabled = true;
                submitBtn.disabled = true;
                checkBtn.disabled = true;
                
                showFeedbackText(correctnessArr[currentQuestion]);
            } else {
                textInput.value = "";
                textInput.placeholder = "ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”";
                textInput.disabled = false;
                submitBtn.disabled = false;
                checkBtn.disabled = false;
                
                nextBtn.style.display = "none";
                textInput.focus();
            }

        } else {
            // [ê°ê´€ì‹ ëª¨ë“œ] (ë§Œì•½ ì¶”í›„ ì¶”ê°€ëœë‹¤ë©´ ì‚¬ìš©)
            optionsList.style.display = "block";
            inputArea.style.display = "none";
            // ... (ê¸°ì¡´ ê°ê´€ì‹ ë¡œì§ ìœ ì§€ ê°€ëŠ¥)
        }
    }

    // [ì •ë‹µ í™•ì¸] ë²„íŠ¼ (í¬ê¸° ê¸°ëŠ¥)
    function showAnswerDirectly() {
        userAnswers[currentQuestion] = "GIVE_UP"; 
        correctnessArr[currentQuestion] = false; 

        textInput.disabled = true;
        submitBtn.disabled = true;
        checkBtn.disabled = true; 

        showFeedbackText(false);
    }

    // ì£¼ê´€ì‹ ì •ë‹µ ì²´í¬
    function checkTextAnswer() {
        const userVal = textInput.value.trim();
        if (!userVal) return; 

        userAnswers[currentQuestion] = userVal;
        
        const q = quizData[currentQuestion];
        
        const cleanUser = userVal.toLowerCase().replace(/\s+/g, "");
        const originAns = q.a;
        
        // ì •ë‹µ ì •ê·œí™” ë¡œì§ (ê´„í˜¸, ìŠ¬ë˜ì‹œ, ì½¤ë§ˆ ë“± êµ¬ë¶„ìë¡œ ë¶„ë¦¬)
        let processedAns = originAns
            .replace(/[\(\),\/+]/g, "|") 
            .replace(/->/g, "|")         
            .replace(/(A:|B:)/g, "|");   

        const keywords = processedAns.split("|")
            .map(k => k.toLowerCase().replace(/\s+/g, ""))
            .filter(k => k.length > 0);

        let isCorrect = false;

        // 1. í‚¤ì›Œë“œ ì™„ì „ ì¼ì¹˜ í™•ì¸
        if (keywords.includes(cleanUser)) {
            isCorrect = true;
        } 
        // 2. í¬í•¨ ì—¬ë¶€ í™•ì¸ (2ê¸€ì ì´ìƒ)
        else if (cleanUser.length > 1 && originAns.toLowerCase().replace(/\s+/g, "").includes(cleanUser)) {
             // ì •ë‹µ ë¬¸ìì—´ì—ì„œ ê¸°í˜¸ë¥¼ ëº€ ê²ƒê³¼ ë¹„êµí•˜ì—¬ ë„ˆë¬´ ëœ¬ê¸ˆì—†ëŠ” í¬í•¨(ì˜ˆ: 'ì•„' -> 'ì•„ì´') ë°©ì§€
             if (originAns.toLowerCase().replace(/[\(\),]/g, "").replace(/\s+/g, "") === cleanUser) {
                 isCorrect = true;
             }
             // í˜¹ì€ í‚¤ì›Œë“œê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ (ì˜ˆ: 'ë‚˜íŠ¸ë¥¨' -> 'ë‚˜íŠ¸ë¥¨ì±„ë„')
             keywords.forEach(key => {
                 if (cleanUser.includes(key) || key.includes(cleanUser)) {
                     // ë„ˆë¬´ ì§§ì€ ë§¤ì¹­ ë°©ì§€ (ì˜ˆ: 'ì±„ë„'ë§Œ ì¼ì„ ë•Œ 'ë‚˜íŠ¸ë¥¨ì±„ë„' ì •ë‹µ ì¸ì • ì—¬ë¶€ëŠ” ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‚˜ ì—¬ê¸°ì„  ì¼ë‹¨ Pass)
                     if(cleanUser.length >= 2) isCorrect = true;
                 }
             });
        }

        correctnessArr[currentQuestion] = isCorrect;

        textInput.disabled = true;
        submitBtn.disabled = true;
        checkBtn.disabled = true;

        showFeedbackText(isCorrect);
    }

    // ì£¼ê´€ì‹ í”¼ë“œë°± í‘œì‹œ
    function showFeedbackText(isCorrect) {
        const q = quizData[currentQuestion];
        if (isCorrect) {
            textInput.style.borderColor = "#4CAF50"; 
            feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
        } else {
            textInput.style.borderColor = "#f44336"; 
            feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
        }
        feedback.style.display = "block";
        nextBtn.style.display = "block";
        updateNextBtnText();
    }

    function updateNextBtnText() {
        if (currentQuestion === quizData.length - 1) {
            nextBtn.innerText = "ê²°ê³¼ ë³´ê¸°";
        } else {
            nextBtn.innerText = "ë‹¤ìŒ ë¬¸ì œ â¡ï¸";
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        let finalScoreValue = 0;
        for (let i = 0; i < quizData.length; i++) {
            if (correctnessArr[i]) finalScoreValue++;
        }

        quizBox.style.display = "none";
        resultScreen.style.display = "block";
        finalScore.innerText = `${finalScoreValue} / ${quizData.length}ì `;
        
        if (finalScoreValue >= quizData.length * 0.9) {
            scoreMessage.innerText = "ì™„ë²½í•´! ì˜ˆë°©ì•½í•™ ë§ˆìŠ¤í„°ì•¼! ğŸ“";
        } else if (finalScoreValue >= quizData.length * 0.7) {
            scoreMessage.innerText = "í•©ê²© ì•ˆì •ê¶Œì´ì•¼! ì¡°ê¸ˆë§Œ ë” ë‹¤ë“¬ì! ğŸ’Š";
        } else {
            scoreMessage.innerText = "ì•„ì§ í—·ê°ˆë¦¬ëŠ”ê²Œ ë§ë„¤. ì˜¤ë‹µë…¸íŠ¸ í•„ìˆ˜! ğŸ“";
        }
    }

    loadQuestion();
</script>

</body>
</html>
