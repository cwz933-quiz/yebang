<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>77íšŒ ì•½ì‚¬êµ­ì‹œ ì‹¤ì „ ëª¨ì˜ê³ ì‚¬</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .quiz-container { background-color: white; width: 100%; max-width: 600px; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); position: relative; }
        
        /* ë©”ì¸ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ */
        .home-btn { display: inline-block; text-decoration: none; color: #666; font-size: 14px; margin-bottom: 20px; padding: 8px 12px; background-color: #f1f3f5; border-radius: 20px; transition: all 0.2s; font-weight: bold; }
        .home-btn:hover { background-color: #e9ecef; color: #333; }

        h1 { font-size: 20px; color: #333; text-align: center; margin-bottom: 20px; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-top: 0; }
        .progress { text-align: right; font-size: 14px; color: #666; margin-bottom: 10px; }
        .question { font-size: 18px; font-weight: bold; margin-bottom: 20px; line-height: 1.5; word-break: keep-all; }
        
        /* ê°ê´€ì‹ ë³´ê¸° ìŠ¤íƒ€ì¼ */
        .options { list-style: none; padding: 0; }
        .options li { margin-bottom: 10px; }
        .options button { width: 100%; padding: 12px; font-size: 16px; text-align: left; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .options button:hover { background-color: #e8f5e9; }
        .options button.correct { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .options button.wrong { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }

        /* ì£¼ê´€ì‹ ì…ë ¥ ìŠ¤íƒ€ì¼ */
        .input-container { display: flex; gap: 10px; margin-bottom: 10px; }
        .input-answer { flex: 1; padding: 12px; font-size: 16px; border: 2px solid #ddd; border-radius: 8px; outline: none; transition: border 0.3s; }
        .input-answer:focus { border-color: #4CAF50; }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .submit-btn { padding: 12px 15px; background-color: #2196F3; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap; }
        .submit-btn:hover { background-color: #1976D2; }
        .submit-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        /* ì •ë‹µ í™•ì¸(í¬ê¸°) ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .check-btn { padding: 12px 15px; background-color: #f44336; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap; }
        .check-btn:hover { background-color: #d32f2f; }
        .check-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        .feedback { margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; font-size: 15px; color: #333; display: none; line-height: 1.6; }
        .feedback strong { color: #d9534f; }
        
        .btn-container { display: flex; gap: 10px; margin-top: 20px; }
        .nav-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; display: none; }
        .prev-btn { background-color: #6c757d; color: white; }
        .next-btn { background-color: #4CAF50; color: white; }
        
        .result-screen { text-align: center; display: none; }
        .score { font-size: 40px; font-weight: bold; color: #4CAF50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container">
    <a href="index.html" class="home-btn">ğŸ  ë©”ì¸ ë©”ë‰´ë¡œ</a>

    <div id="quiz-box">
        <h1>ğŸ’Š í•´ëƒ„ 1p ë‹¨ë‹µí˜• 50ì œ</h1>
        <div class="progress" id="progress">ë¬¸ì œ 1 / 50</div>
        <div class="question" id="question-text">ë¬¸ì œ ë¡œë”©ì¤‘...</div>
        
        <ul class="options" id="options-list"></ul>
        
        <div class="input-container" id="input-area" style="display:none;">
            <input type="text" class="input-answer" id="text-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            <button class="submit-btn" id="submit-answer-btn" onclick="checkTextAnswer()">ì œì¶œ</button>
            <button class="check-btn" id="check-answer-btn" onclick="showAnswerDirectly()">ì •ë‹µ í™•ì¸</button>
        </div>

        <div class="feedback" id="feedback"></div>
        
        <div class="btn-container">
            <button class="nav-btn prev-btn" id="prev-btn" onclick="prevQuestion()">â¬…ï¸ ì´ì „ ë¬¸ì œ</button>
            <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡ï¸</button>
        </div>
    </div>

    <div class="result-screen" id="result-screen">
        <h1>ìˆ˜ê³ í–ˆìŠµë‹ˆë‹¤! ìë„¤ì˜ ì ìˆ˜ëŠ”?</h1>
        <div class="score" id="final-score"></div>
        <p id="score-message"></p>
        <div class="btn-container">
            <button class="nav-btn next-btn" style="display:block; background-color:#666;" onclick="location.href='index.html'">ë©”ì¸ìœ¼ë¡œ</button>
            <button class="nav-btn next-btn" style="display:block" onclick="location.reload()">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
    </div>
</div>

<script>
    const quizData = [
    { type: "text", q: "1. ì§ˆë³‘ ë°œìƒì˜ 3ëŒ€ ìš”ì¸(ì‚¼ê°í˜•)ì€ ë³‘ì¸, í™˜ê²½, ê·¸ë¦¬ê³  (     )ì´ë‹¤.", a: "ìˆ™ì£¼ (Host)", expl: "ì§ˆë³‘ ë°œìƒì˜ 3ëŒ€ ìš”ì†Œ: ë³‘ì¸, ìˆ™ì£¼, í™˜ê²½" },
    { type: "text", q: "2. ì§ˆë³‘ì˜ ìì—°ì‚¬ ì¤‘ ë³‘ì¸ ìê·¹ì´ ì‹œì‘ë˜ì–´ ìˆ™ì£¼ê°€ ë°˜ì‘í•˜ëŠ” ì‹œê¸°ë¡œ, ì¡°ê¸° ë°œê²¬ê³¼ ì¡°ê¸° ì¹˜ë£Œê°€ ì¤‘ìš”í•œ '2ì°¨ ì˜ˆë°©' ë‹¨ê³„ëŠ” ì–´ëŠ ì‹œê¸°ì¸ê°€?", a: "ë³‘ì›ì„±ê¸° (3ë‹¨ê³„)", expl: "ì¦ìƒì´ ë‚˜íƒ€ë‚˜ê¸° ì‹œì‘í•˜ëŠ” ì´ˆê¸° ë‹¨ê³„ë¡œ ì¡°ê¸° ì§„ë‹¨ì´ ì¤‘ìš”í•©ë‹ˆë‹¤." },
    { type: "text", q: "3. ì˜ˆë°©ì•½í•™ì  ëŒ€ì±… ì¤‘ 'ì¬í™œ'ê³¼ 'ì‚¬íšŒ ë³µê·€'ë¥¼ ëª©í‘œë¡œ í•˜ëŠ” ë‹¨ê³„ëŠ” ëª‡ ì°¨ ì˜ˆë°©ì¸ê°€?", a: "3ì°¨ ì˜ˆë°©", expl: "ì§ˆë³‘ì˜ ì•…í™” ë°©ì§€ ë° ì¬í™œì€ 3ì°¨ ì˜ˆë°©ì— í•´ë‹¹í•©ë‹ˆë‹¤." },
    { type: "text", q: "4. ì—­í•™ ì—°êµ¬ ë°©ë²• ì¤‘ 'ê¸°ìˆ ì—­í•™'ì€ ê°€ì„¤ì„ (     )í•˜ëŠ” ë‹¨ê³„ì´ê³ , 'ë¶„ì„ì—­í•™'ì€ ê°€ì„¤ì„ ê²€ì¦í•˜ëŠ” ë‹¨ê³„ì´ë‹¤.", a: "ì„¤ì • (ìˆ˜ë¦½)", expl: "ê¸°ìˆ ì—­í•™ì€ ì§ˆë³‘ì˜ ë¶„í¬ë¥¼ ê´€ì°°í•˜ì—¬ ê°€ì„¤ì„ ì„¤ì •í•©ë‹ˆë‹¤." },
    { type: "text", q: "5. ë¶„ì„ì—­í•™ ì¤‘ ì§ˆë³‘ì´ ìˆëŠ” ì§‘ë‹¨(í™˜ì)ê³¼ ì—†ëŠ” ì§‘ë‹¨(ëŒ€ì¡°êµ°)ì„ ì„ ì •í•˜ì—¬ ê³¼ê±°ì˜ ë…¸ì¶œ ìš”ì¸ì„ ì¡°ì‚¬í•˜ëŠ” ì—°êµ¬ ë°©ë²•ì€?", a: "í™˜ì-ëŒ€ì¡°êµ° ì—°êµ¬ (Case-Control study)", expl: "ê³¼ê±°ë¥¼ ì¶”ì í•˜ë¯€ë¡œ í›„í–¥ì  ì—°êµ¬ë¼ê³ ë„ í•©ë‹ˆë‹¤." },
    { type: "text", q: "6. í™˜ì-ëŒ€ì¡°êµ° ì—°êµ¬ì—ì„œ ì‚°ì¶œí•  ìˆ˜ ìˆëŠ” ìœ„í—˜ë„ ì§€í‘œë¡œ, í™˜ìêµ°ê³¼ ëŒ€ì¡°êµ°ì˜ ë…¸ì¶œ ë¹„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ì€?", a: "êµì°¨ë¹„ (Odds ratio, OR)", expl: "ë°œìƒë¥ ì„ ì§ì ‘ êµ¬í•  ìˆ˜ ì—†ì–´ êµì°¨ë¹„ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤." },
    { type: "text", q: "7. ì—°êµ¬ ì‹œì‘ì‹œì ì— ìë£Œë¥¼ ìˆ˜ì§‘í•˜ëŠ” ì½”í˜¸íŠ¸ ì—°êµ¬ëŠ” (     )ì ì¸ ì—°êµ¬ ë°©ë²•ì´ë‹¤.", a: "ì „í–¥ (Prospective)", expl: "í˜„ì¬ ë…¸ì¶œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¯¸ë˜ì˜ ì§ˆë³‘ ë°œìƒì„ ì¶”ì í•©ë‹ˆë‹¤." },
    { type: "text", q: "8. ì§ˆë³‘ ë°œìƒë¥ (Incidence)ì„ ì§ì ‘ ì‚°ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, ìš”ì¸ê³¼ ì§ˆë³‘ ê°„ì˜ ì¸ê³¼ê´€ê³„ë¥¼ ë°íˆê¸°ì— ê°€ì¥ ê°•ë ¥í•œ ê´€ì°° ì—°êµ¬ ë°©ë²•ì€?", a: "ì½”í˜¸íŠ¸ ì—°êµ¬", expl: "ì‹œê°„ì  ì„ í›„ ê´€ê³„ê°€ ëª…í™•í•˜ì—¬ ì‹ ë¢°ë„ê°€ ë†’ìŠµë‹ˆë‹¤." },
    { type: "text", q: "9. ì½”í˜¸íŠ¸ ì—°êµ¬ì—ì„œ ì‚°ì¶œí•˜ëŠ” ìœ„í—˜ë„ ì§€í‘œë¡œ, (ë…¸ì¶œêµ°ì˜ ì§ˆë³‘ ë°œìƒë¥  / ë¹„ë…¸ì¶œêµ°ì˜ ì§ˆë³‘ ë°œìƒë¥ )ë¡œ ê³„ì‚°í•˜ëŠ” ê°’ì€?", a: "ìƒëŒ€ìœ„í—˜ë„ (Relative Risk, RR)", expl: "RRì´ 1ë³´ë‹¤ í¬ë©´ ìœ„í—˜ ìš”ì¸ìœ¼ë¡œ íŒë‹¨í•©ë‹ˆë‹¤." },
    { type: "text", q: "10. í¬ê·€ ì§ˆë³‘ì´ë‚˜ ì ë³µê¸°ê°€ ê¸´ ì§ˆë³‘ì„ ì—°êµ¬í•˜ê¸°ì— ì í•©í•˜ì—¬ ì‹œê°„ê³¼ ë¹„ìš©ì´ ì ˆì•½ë˜ëŠ” ì—°êµ¬ ë°©ë²•ì€?", a: "í™˜ì-ëŒ€ì¡°êµ° ì—°êµ¬", expl: "í™˜ìë¥¼ ì´ë¯¸ í™•ë³´í•œ ìƒíƒœì—ì„œ ì‹œì‘í•˜ë¯€ë¡œ íš¨ìœ¨ì ì…ë‹ˆë‹¤." },
    { type: "text", q: "11. ì§‘ë‹¨ ê²€ì§„ì˜ íƒ€ë‹¹ë„ ì§€í‘œ ì¤‘, ì‹¤ì œ ì§ˆë³‘ì´ ìˆëŠ” ì‚¬ëŒì„ ê²€ì‚¬ì—ì„œ ì–‘ì„±ìœ¼ë¡œ íŒì •í•˜ëŠ” í™•ë¥ ì€?", a: "ë¯¼ê°ë„ (Sensitivity)", expl: "ì§ˆë³‘ìë¥¼ ì°¾ì•„ë‚´ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤." },
    { type: "text", q: "12. ì‹¤ì œ ì§ˆë³‘ì´ ì—†ëŠ” ì‚¬ëŒì„ ê²€ì‚¬ì—ì„œ ì§ˆë³‘ì´ ì—†ë‹¤ê³ (ìŒì„±) ì •í™•í•˜ê²Œ íŒì •í•˜ëŠ” í™•ë¥ ì€?", a: "íŠ¹ì´ë„ (Specificity)", expl: "ê±´ê°•í•œ ì‚¬ëŒì„ ê±´ê°•í•˜ë‹¤ê³  íŒì •í•˜ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤." },
    { type: "text", q: "13. ë³‘ì›ì²´ê°€ ìˆ™ì£¼ì— ì¹¨ì…í•˜ì—¬ ì¦ìƒì´ ë°œí˜„ë˜ê¸°ê¹Œì§€ì˜ ê¸°ê°„ì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?", a: "ì ë³µê¸° (Incubation period)", expl: "ì¦ìƒì´ ì—†ëŠ” ê¸°ê°„ì…ë‹ˆë‹¤." },
    { type: "text", q: "14. ë³‘ì›ì²´ê°€ ìˆ™ì£¼ì— ì¹¨ì…í•˜ì—¬ ê·  ë°°ì¶œì´ ê°€ì¥ ë§ì•„ ê°ì—¼ë ¥ì´ ê°€ì¥ ë†’ì€ ì‹œì ê¹Œì§€ì˜ ê¸°ê°„ì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?", a: "ì„¸ëŒ€ê¸° (Generation time)", expl: "ê°ì—¼ í™•ì‚° ê´€ë¦¬ì— ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤." },
    { type: "text", q: "15. ê°ì—¼ë³‘ ìœ í–‰ì„ ë§‰ê¸° ìœ„í•´ ì§‘ë‹¨ ë‚´ ë©´ì—­ ì¸êµ¬ì˜ ë¹„ìœ¨ì´ ì¼ì • ìˆ˜ì¤€ ì´ìƒ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê°œë…ì€?", a: "ì§‘ë‹¨ë©´ì—­ (Herd immunity)", expl: "ë°±ì‹  ì ‘ì¢…ì˜ ì£¼ìš” ëª©í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤." },
    { type: "text", q: "16. ìƒë¬¼ ë†ì¶• ê³„ìˆ˜(BCF)ëŠ” ( ìƒë¬¼ì²´ë‚´ ë†ë„ /      )ë¡œ ê³„ì‚°í•œë‹¤.", a: "í™˜ê²½ë§¤ì²´ë‚´ ë†ë„ (ë¬¼ ë†ë„)", expl: "ìˆ˜ì¤‘ í™˜ê²½ ë†ë„ ëŒ€ë¹„ ìƒì²´ ë‚´ ë†ë„ ë¹„ì…ë‹ˆë‹¤." },
    { type: "text", q: "17. ëŸ°ë˜í˜• ìŠ¤ëª¨ê·¸ì˜ ì£¼ì›ì¸ ë¬¼ì§ˆì€ ì„íƒ„ ì—°ì†Œì— ì˜í•œ (     )ì™€ ë¶„ì§„ì´ë‹¤.", a: "SO2 (ì´ì‚°í™”í™©/ì•„í™©ì‚°ê°€ìŠ¤)", expl: "í™©ì‚°í™”ë¬¼ì´ ì•ˆê°œì™€ ê²°í•©í•˜ì—¬ ë°œìƒí–ˆìŠµë‹ˆë‹¤." },
    { type: "text", q: "18. LAí˜• ìŠ¤ëª¨ê·¸(ê´‘í™”í•™ ìŠ¤ëª¨ê·¸)ëŠ” ì£¼ë¡œ ìë™ì°¨ ë°°ê¸°ê°€ìŠ¤ì¸ íƒ„í™”ìˆ˜ì†Œì™€ (     ), ê·¸ë¦¬ê³  ìì™¸ì„ ì— ì˜í•´ ë°œìƒí•œë‹¤.", a: "NOx (ì§ˆì†Œì‚°í™”ë¬¼)", expl: "ì§ˆì†Œì‚°í™”ë¬¼ì´ ìì™¸ì„ ê³¼ ë°˜ì‘í•˜ì—¬ ì˜¤ì¡´ ë“±ì„ ìƒì„±í•©ë‹ˆë‹¤." },
    { type: "text", q: "19. ëŸ°ë˜í˜• ìŠ¤ëª¨ê·¸ëŠ” ê¸°ì˜¨ì´ (     ) ê²¨ìš¸ì²  ìƒˆë²½ì´ë‚˜ ì•„ì¹¨ì— ì£¼ë¡œ ë°œìƒí•œë‹¤.", a: "ë‚®ì€ (4ë„ ì´í•˜)", expl: "ê²¨ìš¸ì²  ë‚œë°©(ì„íƒ„) ì¦ê°€ì™€ ê¸°ì˜¨ ì—­ì „ì´ ì›ì¸ì…ë‹ˆë‹¤." },
    { type: "text", q: "20. LAí˜• ìŠ¤ëª¨ê·¸ëŠ” ê¸°ì˜¨ì´ ë†’ì€ ì—¬ë¦„ì²  (     )ì— ì£¼ë¡œ ë°œìƒí•˜ë©°, ì‚°í™”ì  ë°˜ì‘ì´ íŠ¹ì§•ì´ë‹¤.", a: "ë‚® (ì •ì˜¤~ì˜¤í›„)", expl: "ìì™¸ì„ ì´ ê°•í•œ ì‹œê°„ëŒ€ì— ë°œìƒí•©ë‹ˆë‹¤." },
    { type: "text", q: "21. ëŒ€ê¸° ì˜¤ì—¼ ë¬¼ì§ˆ ì¤‘ 1ì°¨ ì˜¤ì—¼ë¬¼ì§ˆì´ ëŒ€ê¸° ì¤‘ì—ì„œ í™”í•™ë°˜ì‘ì„ ì¼ìœ¼ì¼œ ìƒì„±ëœ ìƒˆë¡œìš´ ì˜¤ì—¼ë¬¼ì§ˆ(ì˜ˆ: ì˜¤ì¡´, PAN ë“±)ì„ ë¬´ì—‡ì´ë¼ í•˜ëŠ”ê°€?", a: "2ì°¨ ì˜¤ì—¼ë¬¼ì§ˆ", expl: "ë¹›ì´ë‚˜ ìˆ˜ë¶„ ë“±ê³¼ ë°˜ì‘í•˜ì—¬ ìƒì„±ë©ë‹ˆë‹¤." },
    { type: "text", q: "22. ì…ììƒ ë¬¼ì§ˆ ì¤‘ í¬ê¸°ê°€ 0.1~1.0Î¼mì¸ ê³ ì²´ ì…ìë¡œ, ê¸ˆì†ì˜ ì¦ê¸°ê°€ ì‘ì¶•ë˜ì–´ ìƒì„±ë˜ëŠ” ê²ƒì€?", a: "Fume (í“¸)", expl: "ì£¼ë¡œ ìš©ì ‘ ì‘ì—… ë“±ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤." },
    { type: "text", q: "23. ì•¡ì²´ ì…ìê°€ ë¶„ì‚°ëœ í˜•íƒœë¡œ í¬ê¸°ê°€ 0.5~3.0Î¼mì´ë©°, í™©ì‚°(H2SO4) ë“±ì´ ì´ì— í•´ë‹¹í•˜ëŠ” ì…ììƒ ë¬¼ì§ˆì€?", a: "Mist (ë¯¸ìŠ¤íŠ¸)", expl: "ì•¡ì²´ ìƒíƒœì˜ ë¯¸ì„¸ ì…ìì…ë‹ˆë‹¤." },
    { type: "text", q: "24. ì¸ì²´ì— ê°€ì¥ ìœ í•´í•œ ì…ì í¬ê¸°ëŠ” (     )Î¼m ë²”ìœ„ì´ë©°, ì´ëŠ” íí¬ ê¹Šìˆ™ì´ ì¹¨ì°©ë˜ê±°ë‚˜ í˜ˆê´€ìœ¼ë¡œ ìœ ì…ë  ìˆ˜ ìˆë‹¤.", a: "0.1 ~ 2.5 (ë˜ëŠ” 0.5~5.0)", expl: "íí¬ì— ì¹¨ì°©ë˜ì–´ ë°°ì¶œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤." },
    { type: "text", q: "25. ì…ì í¬ê¸°ê°€ 10Î¼m ì´ìƒì¸ ë¨¼ì§€ëŠ” ì£¼ë¡œ í˜¸í¡ê¸° ì¤‘ ì–´ëŠ ë¶€ìœ„ì— í¬ì°©ë˜ëŠ”ê°€?", a: "ìƒê¸°ë„ (ë¹„ê°•, ì¸í›„)", expl: "ì½”í„¸ì´ë‚˜ ì ë§‰ì— ê±¸ëŸ¬ì§‘ë‹ˆë‹¤." },
    { type: "text", q: "26. ê°€ìŠ¤ìƒ ë¬¼ì§ˆ ì¤‘ ë¬¼ì— ëŒ€í•œ ìš©í•´ë„ê°€ (     ) ê°€ìŠ¤ëŠ” ìƒê¸°ë„ ì ë§‰ì— ë…¹ì•„ ìê·¹ì„ ì£¼ë©°, ëŒ€í‘œì ìœ¼ë¡œ SO2, NH3ê°€ ìˆë‹¤.", a: "ë†’ì€", expl: "ë¬¼ì— ì˜ ë…¹ìœ¼ë©´ ë“¤ì–´ì˜¤ìë§ˆì ìƒê¸°ë„ ìˆ˜ë¶„ì— ë…¹ì•„ ìê·¹í•©ë‹ˆë‹¤." },
    { type: "text", q: "27. ë¬¼ì— ì˜ ë…¹ì§€ ì•Šì•„(ìš©í•´ë„ ë‚®ìŒ) íí¬ ê¹Šìˆ™ì´ ë„ë‹¬í•˜ì—¬ íë¶€ì¢… ë“±ì„ ìœ ë°œí•˜ëŠ” ê°€ìŠ¤ìƒ ë¬¼ì§ˆì˜ ì˜ˆë¡œ í¬ìŠ¤ê²(COCl2), NO2, ê·¸ë¦¬ê³  (     )ì´ ìˆë‹¤.", a: "O3 (ì˜¤ì¡´)", expl: "ìš©í•´ë„ê°€ ë‚®ìœ¼ë©´ ê¹Šìˆ™ì´ ì¹¨íˆ¬í•˜ì—¬ ì‹¬ë¶€ ì¡°ì§ì„ ì†ìƒì‹œí‚µë‹ˆë‹¤." },
    { type: "text", q: "28. ë‹¨ìˆœ ì§ˆì‹ì œëŠ” ì‚°ì†Œ ë¶„ì••ì„ ì €í•˜ì‹œì¼œ ì§ˆì‹ì„ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆë¡œ CO2, ë©”íƒ„ ë“±ì´ ìˆê³ , í™”í•™ì  ì§ˆì‹ì œëŠ” ì²´ë‚´ ì‚°ì†Œ ìš´ë°˜ì´ë‚˜ ì´ìš©ì„ ë°©í•´í•˜ëŠ”ë° ëŒ€í‘œì ìœ¼ë¡œ (     )ê°€ ìˆë‹¤.", a: "CO (ì¼ì‚°í™”íƒ„ì†Œ)", expl: "COëŠ” í—¤ëª¨ê¸€ë¡œë¹ˆê³¼ ê²°í•©í•˜ì—¬ ì‚°ì†Œ ìš´ë°˜ì„ ë§‰ìŠµë‹ˆë‹¤." },
    { type: "text", q: "29. ì¼ì‚°í™”íƒ„ì†Œ(CO)ëŠ” í—¤ëª¨ê¸€ë¡œë¹ˆ(Hb)ê³¼ì˜ ì¹œí™”ë ¥ì´ ì‚°ì†Œë³´ë‹¤ ì•½ (     )ë°° ê°•í•˜ë‹¤. (ìë£Œ ìˆ˜ì¹˜ ê¸°ì¤€)", a: "210~300 (ë˜ëŠ” ì•½ 250)", expl: "ì‚°ì†Œë¥¼ ë°€ì–´ë‚´ê³  Hbì™€ ê°•ë ¥í•˜ê²Œ ê²°í•©í•©ë‹ˆë‹¤." },
    { type: "text", q: "30. ì§ˆì†Œì‚°í™”ë¬¼(NOx) ì¤‘ ë…ì„±ì´ ê°•í•˜ê³  ì ê°ˆìƒ‰ì„ ë ë©°, í—¤ëª¨ê¸€ë¡œë¹ˆê³¼ ê²°í•©í•˜ì—¬ Methemoglobinemia(ì²­ìƒ‰ì¦)ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆëŠ” ë¬¼ì§ˆì€?", a: "NO2 (ì´ì‚°í™”ì§ˆì†Œ)", expl: "NOë³´ë‹¤ ë…ì„±ì´ ê°•í•˜ë©° ê°€ì‹œê´‘ì„ ì„ í¡ìˆ˜í•´ ì ê°ˆìƒ‰ì„ ë±ë‹ˆë‹¤." },
    { type: "text", q: "31. ê´‘í™”í•™ì  ì˜¤ì¡´(O3) ìƒì„± ë°˜ì‘ì—ì„œ ì§ˆì†Œì‚°í™”ë¬¼(NO2)ì´ íƒœì–‘ì—ë„ˆì§€(ìì™¸ì„ )ë¥¼ í¡ìˆ˜í•˜ì—¬ NOì™€ (     )ë¡œ ë¶„í•´ë˜ëŠ” ê²ƒì´ ë°˜ì‘ì˜ ì‹œì‘ì´ë‹¤.", a: "í™œì„±ì‚°ì†Œ (Atomic Oxygen, O)", expl: "ë¶„ë¦¬ëœ ì‚°ì†Œ ì›ì(O)ê°€ ì‚°ì†Œ ë¶„ì(O2)ì™€ ê²°í•©í•˜ì—¬ ì˜¤ì¡´(O3)ì„ ë§Œë“­ë‹ˆë‹¤." },
    { type: "text", q: "32. ëŒ€ë¥˜ê¶Œ ì˜¤ì¡´ ë†ë„ê°€ í•˜ë£¨ ì¤‘ ê°€ì¥ ë†’ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì‹œê°„ëŒ€ëŠ” ëŒ€ëµ ì–¸ì œì¸ê°€?", a: "ì˜¤í›„ 2ì‹œ (14ì‹œ)", expl: "ìì™¸ì„ ì´ ê°€ì¥ ê°•í•œ ì •ì˜¤ ì´í›„ ë°˜ì‘ì´ ì¶•ì ë˜ì–´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤." },
    { type: "text", q: "33. ê´‘í™”í•™ ìŠ¤ëª¨ê·¸ì˜ ì£¼ìš” ì„±ë¶„ì¸ PANì€ (     )ì˜ ì•½ìì´ë‹¤.", a: "Peroxyacylnitrate", expl: "ê°•ë ¥í•œ ì‚°í™”ì œì´ì ëˆˆ ìê·¹ ë¬¼ì§ˆì…ë‹ˆë‹¤." },
    { type: "text", q: "34. 2ì°¨ ì˜¤ì—¼ë¬¼ì§ˆ ìƒì„±ì— ê´€ì—¬í•˜ëŠ” ì¸ìë¡œ íƒ„í™”ìˆ˜ì†Œ(HC)ì™€ ì§ˆì†Œì‚°í™”ë¬¼(NOx), ê·¸ë¦¬ê³  ë°˜ë“œì‹œ (     )ì´ í•„ìš”í•˜ë‹¤.", a: "ìì™¸ì„  (UV)", expl: "ê´‘í™”í•™ ë°˜ì‘ì˜ ì—ë„ˆì§€ì›ì…ë‹ˆë‹¤." },
    { type: "text", q: "35. ê³ ë„ê°€ ì˜¬ë¼ê°ˆìˆ˜ë¡ ê¸°ì˜¨ì´ ë‚®ì•„ì ¸ì•¼ ì •ìƒì´ë‚˜, ë°˜ëŒ€ë¡œ ê¸°ì˜¨ì´ ë†’ì•„ì ¸ ê³µê¸°ì˜ ìˆ˜ì§ í™•ì‚°ì´ ì–µì œë˜ê³  ì˜¤ì—¼ë¬¼ì§ˆì´ ì¶•ì ë˜ëŠ” í˜„ìƒì€?", a: "ê¸°ì˜¨ì—­ì „", expl: "ëŒ€ê¸°ê°€ ì•ˆì •ë˜ì–´ ì˜¤ì—¼ë¬¼ì§ˆì´ ê°‡íˆê²Œ ë©ë‹ˆë‹¤." },
    { type: "text", q: "36. ê¸°ì˜¨ì—­ì „ ì¤‘ ë”°ëœ»í•œ ê³µê¸°ê°€ ì°¨ê°€ìš´ ì§€ë©´ ìœ„ë¡œ ì´ë™í•  ë•Œ í•˜ì¸µë¶€ê°€ ëƒ‰ê°ë˜ì–´ ë°œìƒí•˜ëŠ” ì—­ì „ìœ¼ë¡œ, ì£¼ë¡œ ëŸ°ë˜ ìŠ¤ëª¨ê·¸ì™€ ê´€ë ¨ëœ ê²ƒì€?", a: "ì´ë¥˜ì„± ì—­ì „ (Advection inversion)", expl: "ì§€í‘œë©´ ëƒ‰ê°ì— ì˜í•œ ë³µì‚¬ ì—­ì „ê³¼ êµ¬ë³„ë©ë‹ˆë‹¤." },
    { type: "text", q: "37. ì‹¤ë‚´ ê³µê¸° ì˜¤ì—¼ ë¬¼ì§ˆ ì¤‘ ê±´ì¶•ìì¬ë‚˜ í† ì–‘ì—ì„œ ë°©ì¶œë˜ë©°, íì•”ì„ ìœ ë°œí•˜ëŠ” ë°©ì‚¬ì„± ê°€ìŠ¤ëŠ”?", a: "ë¼ëˆ (Radon, Rn)", expl: "ìì—° ë°©ì‚¬ëŠ¥ ë¬¼ì§ˆë¡œ í™˜ê¸°ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤." },
    { type: "text", q: "38. ìƒˆì§‘ì¦í›„êµ°ì˜ ì£¼ìš” ì›ì¸ ë¬¼ì§ˆë¡œ, ì ‘ì°©ì œë‚˜ ë‹¨ì—´ì¬ ë“±ì—ì„œ ë°©ì¶œë˜ë©° ëˆˆê³¼ í˜¸í¡ê¸° ìê·¹ì„ ìœ ë°œí•˜ëŠ” íœ˜ë°œì„± ìœ ê¸°í™”í•©ë¬¼ì€?", a: "í¬ë¦„ì•Œë°íˆë“œ (HCHO)", expl: "1ê¸‰ ë°œì•”ë¬¼ì§ˆì´ë©° ìê·¹ì„±ì´ ê°•í•©ë‹ˆë‹¤." },
    { 
        type: "choice", 
        q: "39. ë‹¤ìŒ ì¤‘ í†µìƒì ì¸ ì •ìˆ˜ì¥ì˜ ì—¼ì†Œ ì†Œë… ì²˜ë¦¬ë¡œëŠ” ì™„ì „íˆ ì œê±°ë˜ì§€ ì•Šì•„, ì˜¤ì¡´ ì‚´ê· ì´ë‚˜ ì—¬ê³¼ ë“±ì˜ ë¬¼ë¦¬ì  ì²˜ë¦¬ê°€ ë°˜ë“œì‹œ í•„ìš”í•œ ìˆ˜ì¸ì„± ê°ì—¼ ë³‘ì›ì²´ëŠ”?", 
        a: ["1. ì¥í‹°í‘¸ìŠ¤ê·  (Salmonella Typhi)", "2. ì´ì§ˆì•„ë©”ë°” (Entamoeba histolytica)", "3. í¬ë¦½í† ìŠ¤í¬ë¦¬ë””ì›€ (Cryptosporidium)", "4. ì½œë ˆë¼ê·  (Vibrio cholerae)", "5. Aí˜• ê°„ì—¼ ë°”ì´ëŸ¬ìŠ¤ (HAV)"], 
        c: 2, 
        expl: "í¬ë¦½í† ìŠ¤í¬ë¦¬ë””ì›€ì€ ì—¼ì†Œ ë‚´ì„±ì´ ê°•í•œ í¬ë‚­ì„ í˜•ì„±í•˜ë¯€ë¡œ ì˜¤ì¡´ ì†Œë… ë“±ì´ í•„ìš”í•©ë‹ˆë‹¤." 
    },
    { type: "text", q: "40. ì‚°ì„±ë¹„(Acid rain)ì˜ ê¸°ì¤€ì´ ë˜ëŠ” pH ë†ë„ëŠ” ì–¼ë§ˆ ë¯¸ë§Œì¸ê°€?", a: "5.6", expl: "ëŒ€ê¸° ì¤‘ CO2ê°€ í¬í™”ë˜ì—ˆì„ ë•Œì˜ pHì¸ 5.6ë³´ë‹¤ ë‚®ì„ ë•Œë¥¼ ë§í•©ë‹ˆë‹¤." },
    { type: "text", q: "41. ì‚°ì„±ë¹„ì˜ ì£¼ìš” ì›ì¸ ë¬¼ì§ˆì€ ëŒ€ê¸° ì¤‘ì˜ SOxì™€ (     )ì´ë‹¤.", a: "NOx (ì§ˆì†Œì‚°í™”ë¬¼)", expl: "í™©ì‚°ê³¼ ì§ˆì‚°ì„ ìƒì„±í•˜ì—¬ ë¹„ë¥¼ ì‚°ì„±í™”ì‹œí‚µë‹ˆë‹¤." },
    { type: "text", q: "42. ì…ìì˜ í¬ê¸°ê°€ 0.1Î¼m ì´í•˜ë¡œ ë§¤ìš° ì‘ì•„ íí¬ì— ë¶€ì°©ë˜ê±°ë‚˜, ê°€ìŠ¤ì™€ ê°™ì´ ê±°ë™í•˜ì—¬ í˜¸í¡ì„ í†µí•´ ë‹¤ì‹œ ë°–ìœ¼ë¡œ ë°°ì¶œë˜ê¸°ë„ í•˜ëŠ” ì…ììƒ ë¬¼ì§ˆì˜ ëª…ì¹­ì€ ë¬´ì—‡ì¸ê°€?", a: "ê·¹ë¯¸ì„¸ë¨¼ì§€", expl: "ê±°ë™ì´ ê¸°ì²´ ë¶„ìì™€ ìœ ì‚¬í•©ë‹ˆë‹¤." },
    { type: "text", q: "43. 0.1~2.5Î¼m í¬ê¸°ì˜ ì…ìëŠ” ë¦¼í”„ê´€ì´ë‚˜ í˜ˆê´€ ë‚´ë¡œ ì¹¨ì…í•  ìˆ˜ ìˆìœ¼ë©° (     ) ìš´ë™ì„ í•œë‹¤.", a: "ë¸Œë¼ìš´ (Brownian)", expl: "ë¯¸ì„¸ ì…ìì˜ ë¬´ì‘ìœ„ ìš´ë™ì…ë‹ˆë‹¤." },
    { type: "text", q: "44. ëŒ€ê¸° ì¤‘ì˜ ì•„í™©ì‚°ê°€ìŠ¤(SO2)ê°€ ì‹ë¬¼ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ìœ¼ë¡œ ìì˜ (     )ê³¼ ì—½ë§¥ ì‚¬ì´ì˜ ë°±ìƒ‰í™”ê°€ ë‚˜íƒ€ë‚œë‹¤.", a: "ë°˜ì ", expl: "ì‹ë¬¼ í”¼í•´ì˜ ëŒ€í‘œì ì¸ ì¦ìƒì…ë‹ˆë‹¤." },
    { type: "text", q: "45. ì¼ì‚°í™”íƒ„ì†Œ(CO) ì¤‘ë… ì‹œ ì¹˜ë£Œë¥¼ ìœ„í•´ ê³ ì•• (     ) ìš”ë²•ì„ ì‚¬ìš©í•œë‹¤.", a: "ì‚°ì†Œ (O2)", expl: "í˜ˆì¤‘ COë¥¼ ë¹¨ë¦¬ ë°€ì–´ë‚´ê¸° ìœ„í•´ ê³ ì•• ì‚°ì†Œë¥¼ íˆ¬ì—¬í•©ë‹ˆë‹¤." },
    { type: "text", q: "46. ë¬¼ì˜ ë¶€ì˜ì–‘í™”(Eutrophication)ë¥¼ ìœ ë°œí•˜ëŠ” ì£¼ìš” ì˜ì–‘ ì—¼ë¥˜ ë‘ ê°€ì§€ëŠ” ì§ˆì†Œ(N)ì™€ (     )ì´ë‹¤.", a: "ì¸ (P)", expl: "ì¡°ë¥˜ì˜ ê³¼ë‹¤ ë²ˆì‹ì„ ìœ ë°œí•©ë‹ˆë‹¤." },
    { type: "text", q: "47. ë¶„ë³€ ì˜¤ì—¼ì˜ ì§€í‘œë¡œ ì‚¬ìš©ë˜ëŠ” ì„¸ê· êµ°ì€?", a: "ëŒ€ì¥ê· êµ° (Coliform group)", expl: "ê²€ì¶œì´ ì‰½ê³  ë¶„ë³€ ì˜¤ì—¼ ê°€ëŠ¥ì„±ì„ ì‹œì‚¬í•©ë‹ˆë‹¤." },
    { type: "text", q: "48. ì˜¤ì¡´ ì‚´ê· ì€ ì—¼ì†Œ ì‚´ê· ì— ë¹„í•´ ì‚´ê· ë ¥ì´ ê°•í•˜ê³  ë°”ì´ëŸ¬ìŠ¤ì—ë„ íš¨ê³¼ì ì´ì§€ë§Œ, (     )ì´ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.", a: "ì”ë¥˜ì„± (ì§€ì†ì„±)", expl: "ì†Œë… í›„ ê´€ë¡œì—ì„œ ì¬ì˜¤ì—¼ë  ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤." },
    { type: "text", q: "49. ì•”ëª¨ë‹ˆì•„, ë©”í‹¸ë©”ë¥´ìº…íƒ„ ë“±ê³¼ í•¨ê»˜ ëª…ì‹œë˜ì–´ ìˆìœ¼ë©°, ì£¼ë¡œ â€˜ì©ì€ ìƒì„  ë¹„ë¦°ë‚´â€™ë¥¼ ìœ ë°œí•˜ëŠ” ì›ì¸ ë¬¼ì§ˆë¡œ ì•Œë ¤ì§„ ì§ˆì†Œ í™”í•©ë¬¼ì˜ ì•½ì–´(Abbreviation)ëŠ” ë¬´ì—‡ì¸ê°€?", a: "TMA (ë˜ëŠ” Trimethylamine)", expl: "ì•…ì·¨ë°©ì§€ë²• ì§€ì • ì•…ì·¨ ë¬¼ì§ˆ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤." },
    { type: "text", q: "50. ì‹œì•ˆ(CN) í™”í•©ë¬¼ì€ ì²´ë‚´ì—ì„œ (     ) ì‚°í™”íš¨ì†Œ(Cytochrome oxidase)ë¥¼ ì €í•´í•˜ì—¬ ë‚´í˜¸í¡ì„ ì–µì œí•œë‹¤.", a: "ì‹œí† í¬ë¡¬ (Cytochrome)", expl: "ì„¸í¬ í˜¸í¡ì„ ì°¨ë‹¨í•˜ì—¬ ì§ˆì‹ì„ ìœ ë°œí•©ë‹ˆë‹¤." }
    ];

    let currentQuestion = 0;
    // ì‚¬ìš©ì ë‹µì•ˆ ì €ì¥
    let userAnswers = new Array(quizData.length).fill(null);
    // ì •ë‹µ ì—¬ë¶€ ì €ì¥ (ì£¼ê´€ì‹/ê°ê´€ì‹ í†µí•© ê´€ë¦¬)
    let correctnessArr = new Array(quizData.length).fill(null);

    const questionText = document.getElementById("question-text");
    const optionsList = document.getElementById("options-list");
    const inputArea = document.getElementById("input-area");
    const textInput = document.getElementById("text-input");
    const submitBtn = document.getElementById("submit-answer-btn");
    const checkBtn = document.getElementById("check-answer-btn"); // ì •ë‹µ í™•ì¸ ë²„íŠ¼
    
    const feedback = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    const progress = document.getElementById("progress");
    const quizBox = document.getElementById("quiz-box");
    const resultScreen = document.getElementById("result-screen");
    const finalScore = document.getElementById("final-score");
    const scoreMessage = document.getElementById("score-message");

    // ì—”í„°í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸
    textInput.addEventListener("keydown", function(event) {
        if (event.key === "Enter" && !submitBtn.disabled) {
            checkTextAnswer();
        }
    });

    function loadQuestion() {
        const q = quizData[currentQuestion];
        questionText.innerText = q.q;
        optionsList.innerHTML = "";
        feedback.style.display = "none";
        progress.innerText = `ë¬¸ì œ ${currentQuestion + 1} / ${quizData.length}`;
        
        prevBtn.style.display = (currentQuestion === 0) ? "none" : "block";

        const qType = q.type || "choice";

        if (qType === "text") {
            // [ì£¼ê´€ì‹ ëª¨ë“œ]
            optionsList.style.display = "none";
            inputArea.style.display = "flex";
            
            // ì´ë¯¸ í’€ì—ˆê±°ë‚˜ í¬ê¸°í–ˆë˜ ë¬¸ì œë¼ë©´ ìƒíƒœ ë³µêµ¬
            if (userAnswers[currentQuestion] !== null) {
                if (userAnswers[currentQuestion] === "GIVE_UP") {
                    textInput.value = "";
                    textInput.placeholder = "í¬ê¸°í•œ ë¬¸ì œì…ë‹ˆë‹¤.";
                } else {
                    textInput.value = userAnswers[currentQuestion];
                }
                
                textInput.disabled = true;
                submitBtn.disabled = true;
                checkBtn.disabled = true; // ë²„íŠ¼ ë¹„í™œì„±í™”
                
                showFeedbackText(correctnessArr[currentQuestion]);
            } else {
                // ì•ˆ í‘¼ ë¬¸ì œë¼ë©´ ì´ˆê¸°í™”
                textInput.value = "";
                textInput.placeholder = "ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”";
                textInput.disabled = false;
                submitBtn.disabled = false;
                checkBtn.disabled = false; // ë²„íŠ¼ í™œì„±í™”
                
                nextBtn.style.display = "none";
                textInput.focus();
            }

        } else {
            // [ê°ê´€ì‹ ëª¨ë“œ] (39ë²ˆ ë¬¸ì œ ë“±)
            optionsList.style.display = "block";
            inputArea.style.display = "none";
            
            const answeredIndex = userAnswers[currentQuestion];
            const isAnswered = answeredIndex !== null;

            if (isAnswered) {
                showFeedbackChoice(answeredIndex);
                nextBtn.style.display = "block";
                updateNextBtnText();
            } else {
                nextBtn.style.display = "none";
            }

            // ê°ê´€ì‹ ë³´ê¸°ê°€ ìˆë‹¤ë©´ ìƒì„±
            if(q.a && Array.isArray(q.a)) {
                q.a.forEach((option, index) => {
                    const li = document.createElement("li");
                    const btn = document.createElement("button");
                    btn.innerText = option;
                    
                    if (isAnswered) {
                        btn.disabled = true;
                        if (index === q.c) btn.classList.add("correct");
                        else if (index === answeredIndex && index !== q.c) btn.classList.add("wrong");
                    } else {
                        btn.onclick = () => checkChoiceAnswer(index, btn);
                    }
                    li.appendChild(btn);
                    optionsList.appendChild(li);
                });
            }
        }
    }

    // [New] ì…ë ¥ ì—†ì´ ë°”ë¡œ ì •ë‹µ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
    function showAnswerDirectly() {
        // í¬ê¸°í•œ ê²ƒìœ¼ë¡œ ì²˜ë¦¬
        userAnswers[currentQuestion] = "GIVE_UP"; 
        correctnessArr[currentQuestion] = false; // ì˜¤ë‹µ ì²˜ë¦¬

        textInput.disabled = true;
        submitBtn.disabled = true;
        checkBtn.disabled = true; 

        // ì˜¤ë‹µ í”¼ë“œë°± í‘œì‹œ (ì •ë‹µ ë³´ì—¬ì¤Œ)
        showFeedbackText(false);
    }

    // ê°ê´€ì‹ ì •ë‹µ ì²´í¬ í•¨ìˆ˜
    function checkChoiceAnswer(selectedIndex, btnElement) {
        const q = quizData[currentQuestion];
        userAnswers[currentQuestion] = selectedIndex;
        
        const isCorrect = (selectedIndex === q.c);
        correctnessArr[currentQuestion] = isCorrect;

        // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ë‹¤ì‹œ ë¡œë“œí•˜ì§€ ì•Šê³  ì§ì ‘ ìŠ¤íƒ€ì¼ ì ìš©
        const buttons = optionsList.getElementsByTagName("button");
        for(let i=0; i<buttons.length; i++) {
            buttons[i].disabled = true;
            if(i === q.c) buttons[i].classList.add("correct");
            else if(i === selectedIndex && !isCorrect) buttons[i].classList.add("wrong");
        }

        showFeedbackChoice(selectedIndex);
        nextBtn.style.display = "block";
        updateNextBtnText();
    }

    // ê°ê´€ì‹ í”¼ë“œë°± í‘œì‹œ
    function showFeedbackChoice(selectedIndex) {
        const q = quizData[currentQuestion];
        const isCorrect = (selectedIndex === q.c);
        
        if (isCorrect) {
            feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
        } else {
            feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a[q.c]}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
        }
        feedback.style.display = "block";
    }

    // ì£¼ê´€ì‹ ì •ë‹µ ì²´í¬
    function checkTextAnswer() {
        const userVal = textInput.value.trim();
        if (!userVal) return; 

        userAnswers[currentQuestion] = userVal;
        
        const q = quizData[currentQuestion];
        
        const cleanUser = userVal.toLowerCase().replace(/\s+/g, "");
        const originAns = q.a;
        
        // ì •ë‹µ ì •ê·œí™” ë¡œì§
        let processedAns = originAns
            .replace(/[\(\),\/+]/g, "|") 
            .replace(/->/g, "|")         
            .replace(/(A:|B:)/g, "|");   

        const keywords = processedAns.split("|")
            .map(k => k.toLowerCase().replace(/\s+/g, ""))
            .filter(k => k.length > 0);

        let isCorrect = false;

        if (keywords.includes(cleanUser)) {
            isCorrect = true;
        } 
        else if (cleanUser.length > 1 && originAns.toLowerCase().replace(/\s+/g, "").includes(cleanUser)) {
             if (originAns.toLowerCase().replace(/[\(\),]/g, "").replace(/\s+/g, "") === cleanUser) {
                 isCorrect = true;
             }
        }

        correctnessArr[currentQuestion] = isCorrect;

        textInput.disabled = true;
        submitBtn.disabled = true;
        checkBtn.disabled = true;

        showFeedbackText(isCorrect);
    }

    // ì£¼ê´€ì‹ í”¼ë“œë°± í‘œì‹œ
    function showFeedbackText(isCorrect) {
        const q = quizData[currentQuestion];
        if (isCorrect) {
            textInput.style.borderColor = "#4CAF50"; 
            feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
        } else {
            textInput.style.borderColor = "#f44336"; 
            feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
        }
        feedback.style.display = "block";
        nextBtn.style.display = "block";
        updateNextBtnText();
    }

    function updateNextBtnText() {
        if (currentQuestion === quizData.length - 1) {
            nextBtn.innerText = "ê²°ê³¼ ë³´ê¸°";
        } else {
            nextBtn.innerText = "ë‹¤ìŒ ë¬¸ì œ â¡ï¸";
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        let finalScoreValue = 0;
        for (let i = 0; i < quizData.length; i++) {
            if (correctnessArr[i]) finalScoreValue++;
        }

        quizBox.style.display = "none";
        resultScreen.style.display = "block";
        finalScore.innerText = `${finalScoreValue} / ${quizData.length}ì `;
        
        if (finalScoreValue >= quizData.length * 0.8) {
            scoreMessage.innerText = "í•©ê²©ê¶Œì´ì•¼! ì´ëŒ€ë¡œë§Œ í•˜ë©´ ë˜ê² ì–´! ğŸ’Š";
        } else if (finalScoreValue >= quizData.length * 0.5) {
            scoreMessage.innerText = "ì ˆë°˜ì€ ë„˜ê²¼ë„¤. ì¡°ê¸ˆë§Œ ë” ì™¸ì›Œë³´ì!";
        } else {
            scoreMessage.innerText = "ì•„ì§ ë§ì´ ë¶€ì¡±í•´. ë‹¤ì‹œ í•œ ë²ˆ ê¼¼ê¼¼íˆ ë³´ì!";
        }
    }

    loadQuestion();
</script>

</body>
</html>
