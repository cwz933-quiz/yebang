<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>77íšŒ ì•½ì‚¬êµ­ì‹œ ì‹¤ì „ ëª¨ì˜ê³ ì‚¬</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .quiz-container { background-color: white; width: 100%; max-width: 600px; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); position: relative; }
        
        /* ë©”ì¸ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ */
        .home-btn { display: inline-block; text-decoration: none; color: #666; font-size: 14px; margin-bottom: 20px; padding: 8px 12px; background-color: #f1f3f5; border-radius: 20px; transition: all 0.2s; font-weight: bold; }
        .home-btn:hover { background-color: #e9ecef; color: #333; }

        h1 { font-size: 20px; color: #333; text-align: center; margin-bottom: 20px; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-top: 0; }
        .progress { text-align: right; font-size: 14px; color: #666; margin-bottom: 10px; }
        .question { font-size: 18px; font-weight: bold; margin-bottom: 20px; line-height: 1.5; }
        
        /* ê°ê´€ì‹ ë³´ê¸° ìŠ¤íƒ€ì¼ */
        .options { list-style: none; padding: 0; }
        .options li { margin-bottom: 10px; }
        .options button { width: 100%; padding: 12px; font-size: 16px; text-align: left; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .options button:hover { background-color: #e8f5e9; }
        .options button.correct { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .options button.wrong { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }

        /* ì£¼ê´€ì‹ ì…ë ¥ ìŠ¤íƒ€ì¼ */
        .input-container { display: flex; gap: 10px; margin-bottom: 10px; }
        .input-answer { flex: 1; padding: 12px; font-size: 16px; border: 2px solid #ddd; border-radius: 8px; outline: none; transition: border 0.3s; }
        .input-answer:focus { border-color: #4CAF50; }
        .submit-btn { padding: 12px 20px; background-color: #2196F3; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .submit-btn:hover { background-color: #1976D2; }
        .submit-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        .feedback { margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; font-size: 15px; color: #333; display: none; line-height: 1.6; }
        .feedback strong { color: #d9534f; }
        
        .btn-container { display: flex; gap: 10px; margin-top: 20px; }
        .nav-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; display: none; }
        .prev-btn { background-color: #6c757d; color: white; }
        .next-btn { background-color: #4CAF50; color: white; }
        
        .result-screen { text-align: center; display: none; }
        .score { font-size: 40px; font-weight: bold; color: #4CAF50; margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container">
    <a href="index.html" class="home-btn">ğŸ  ë©”ì¸ ë©”ë‰´ë¡œ</a>

    <div id="quiz-box">
        <h1>ğŸ’Š ã…ã„´ 2p ë‹¨ë‹µí˜•</h1>
        <div class="progress" id="progress">ë¬¸ì œ 1 / 30</div>
        <div class="question" id="question-text">ë¬¸ì œ ë¡œë”©ì¤‘...</div>
        
        <ul class="options" id="options-list"></ul>
        
        <div class="input-container" id="input-area" style="display:none;">
            <input type="text" class="input-answer" id="text-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            <button class="submit-btn" id="submit-answer-btn" onclick="checkTextAnswer()">í™•ì¸</button>
        </div>

        <div class="feedback" id="feedback"></div>
        
        <div class="btn-container">
            <button class="nav-btn prev-btn" id="prev-btn" onclick="prevQuestion()">â¬…ï¸ ì´ì „ ë¬¸ì œ</button>
            <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡ï¸</button>
        </div>
    </div>

    <div class="result-screen" id="result-screen">
        <h1>ìˆ˜ê³ í–ˆìŠµë‹ˆë‹¤! ìë„¤ì˜ ì ìˆ˜ëŠ”?</h1>
        <div class="score" id="final-score"></div>
        <p id="score-message"></p>
        <div class="btn-container">
            <button class="nav-btn next-btn" style="display:block; background-color:#666;" onclick="location.href='index.html'">ë©”ì¸ìœ¼ë¡œ</button>
            <button class="nav-btn next-btn" style="display:block" onclick="location.reload()">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
    </div>
</div>

<script>
    const quizData = [
    {
        type: "text",
        q: "1. ìˆ˜ì¤‘ì˜ ìœ ê¸°ë¬¼, ì•”ëª¨ë‹ˆì•„, ì„¸ê·  ë“±ì„ ì œê±°í•˜ê¸° ìœ„í•´ ì—¼ì†Œë¥¼ ì£¼ì…í•  ë•Œ, ì—¼ì†Œ ìš”êµ¬ëŸ‰ì„ ì¶©ì¡±ì‹œí‚¤ê³  ë‚œ í›„ ìœ ë¦¬ ì”ë¥˜ì—¼ì†Œê°€ ë‚˜íƒ€ë‚˜ê¸° ì‹œì‘í•˜ëŠ” ì§€ì ì€?",
        a: "íŒŒê´´ì  (ë¶ˆì—°ì†ì , Breakpoint)",
        expl: "íŒŒê´´ì  ì´í›„ë¶€í„° ìœ ë¦¬ì”ë¥˜ì—¼ì†Œ(HOCl, OCl-)ê°€ ì¡´ì¬í•˜ë©° ì‚´ê· ë ¥ì´ ê°•ë ¥í•´ì§‘ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "2. ì—¼ì†Œ ì‚´ê·  ì‹œ pHê°€ ë‚®ì„ìˆ˜ë¡ ì‚´ê· ë ¥ì´ ê°•í•œ ( A )ì˜ ë¹„ìœ¨ì´ ë†’ê³ , pHê°€ ë†’ì„ìˆ˜ë¡ ì‚´ê· ë ¥ì´ ì•½í•œ ( B )ì˜ ë¹„ìœ¨ì´ ë†’ë‹¤. (A, B ìˆœì„œëŒ€ë¡œ ê¸°ì¬)",
        a: "A: HClO(ì°¨ì•„ì—¼ì†Œì‚°), B: ClO-(ì°¨ì•„ì—¼ì†Œì‚° ì´ì˜¨)",
        expl: "HClOëŠ” ClO-ë³´ë‹¤ ì‚´ê· ë ¥ì´ ì•½ 80ë°° ê°•í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "3. ì—¼ì†Œ ì†Œë… ì‹œ ë¶€ìƒì„±ë¬¼ë¡œ ë°œì•” ê°€ëŠ¥ì„±ì´ ìˆëŠ” THM(íŠ¸ë¦¬í• ë¡œë©”íƒ„)ì˜ ì£¼ìš” ì „êµ¬ë¬¼ì§ˆ ë‘ ê°€ì§€ëŠ”?",
        a: "Humic acid(ë¶€ì‹ì‚°), Fulvic acid",
        expl: "ì´ ìœ ê¸°ë¬¼ì§ˆë“¤ì´ ì—¼ì†Œì™€ ë°˜ì‘í•˜ì—¬ THMì„ ìƒì„±í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "4. ìˆ˜ì§ˆ ì˜¤ì—¼ ì§€í‘œ ì¤‘ ë¶„ë³€ ì˜¤ì—¼ì˜ ìœ ë¬´ë¥¼ íŒì •í•˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ì§€í‘œ ì„¸ê· êµ°ì€?",
        a: "ëŒ€ì¥ê· êµ° (Coliform group)",
        expl: "ê²€ì¶œ ì‹œ ë³‘ì›ì„± ë¯¸ìƒë¬¼ì˜ ì¡´ì¬ ê°€ëŠ¥ì„±ì„ ì‹œì‚¬í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "5. ë¬¼ì˜ ì˜¤ì—¼ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ ì¤‘ ì‚°í™”ì œë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ê¸°ë¬¼ì„ ë¶„í•´í•  ë•Œ ì†Œë¹„ë˜ëŠ” ì‚°ì†Œì˜ ì–‘ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì€?",
        a: "COD (í™”í•™ì  ì‚°ì†Œ ìš”êµ¬ëŸ‰)",
        expl: "BODì— ë¹„í•´ ì¸¡ì • ì‹œê°„ì´ ì§§ê³  ê°„í¸í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "6. í•˜ì²œìˆ˜ê°€ ì˜¤ì—¼ëœ ì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ìŒì„ ì˜ë¯¸í•˜ëŠ” ì§ˆì†Œ í™”í•©ë¬¼ì˜ í˜•íƒœëŠ”?",
        a: "ì•”ëª¨ë‹ˆì•„ì„± ì§ˆì†Œ (NH3-N)",
        expl: "ì˜¤ì—¼ ì´ˆê¸° ë‹¨ê³„ì— ì£¼ë¡œ ê²€ì¶œë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "7. ì˜¤ì—¼ëœ ì§€ ì˜¤ë˜ë˜ì–´ ìì •ì‘ìš©ì´ ê±°ì˜ ì™„ë£Œëœ ìƒíƒœì„ì„ ë‚˜íƒ€ë‚´ëŠ” ì§ˆì†Œ í™”í•©ë¬¼ í˜•íƒœëŠ”?",
        a: "ì§ˆì‚°ì„± ì§ˆì†Œ (NO3-N)",
        expl: "ì´ê²ƒì´ ë§ìœ¼ë©´ ìœ ì•„ì—ê²Œ ì²­ìƒ‰ì¦(Blue baby syndrome) ìœ ë°œ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "8. ìœ™í´ëŸ¬(Winkler)ë²• ë“±ìœ¼ë¡œ ì¸¡ì •í•˜ë©°, ìˆ˜ì˜¨ì´ ë‚®ì„ìˆ˜ë¡ ë†ë„ê°€ ë†’ì•„ì§€ëŠ” ìˆ˜ì§ˆ ì§€í‘œëŠ”?",
        a: "DO (ìš©ì¡´ì‚°ì†Œ)",
        expl: "ìˆ˜ì˜¨ì´ ë‚®ì„ìˆ˜ë¡, ì—¼ë¶„ì´ ë‚®ì„ìˆ˜ë¡ DOëŠ” ì¦ê°€í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "9. ê°ê°ì˜¨ë„ì˜ 3ëŒ€ ìš”ì†ŒëŠ” ê¸°ì˜¨, ê¸°ìŠµ, ê·¸ë¦¬ê³  ë¬´ì—‡ì¸ê°€?",
        a: "ê¸°ë™ (ê¸°ë¥˜, ë°”ëŒ)",
        expl: "ì²´ê° ì˜¨ë„ë¥¼ ê²°ì •í•˜ëŠ” ì„¸ ê°€ì§€ ìš”ì†Œì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "10. ì‹¤ë‚´ ê¸°ë¥˜ ì¸¡ì •ì´ë‚˜ ì˜ë³µì˜ ë³´ì˜¨ë ¥ì„ ì¸¡ì •í•  ë•Œ ì‚¬ìš©í•˜ë©°, ì¸ì²´ì˜ ì²´ì—´ ë°©ì‚°ê³¼ ìœ ì‚¬í•œ ì›ë¦¬ë¥¼ ì´ìš©í•œ ì˜¨ë„ê³„ëŠ”?",
        a: "ì¹´íƒ€ ì˜¨ë„ê³„ (Kata thermometer)",
        expl: "ì‹¤ë‚´ì˜ ë¯¸í’(ê¸°ë¥˜)ì„ ì¸¡ì •í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "11. ë¶ˆì¾Œì§€ìˆ˜(DI)ë¥¼ ê³„ì‚°í•  ë•Œ ê³ ë ¤í•˜ëŠ” ë‘ ê°€ì§€ ìš”ì†ŒëŠ” ê±´êµ¬ì˜¨ë„ì™€ ë¬´ì—‡ì¸ê°€?",
        a: "ìŠµêµ¬ì˜¨ë„ (ìŠµë„)",
        expl: "DIê°€ 80 ì´ìƒì´ë©´ ê±°ì˜ ëª¨ë“  ì‚¬ëŒì´ ë¶ˆì¾Œê°ì„ ëŠë‚ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "12. ë°©ì‚¬ì„  ì¤‘ ì „ë¦¬ì‘ìš©(ì´ì˜¨í™”)ì´ ê°€ì¥ ê°•í•˜ì§€ë§Œ íˆ¬ê³¼ë ¥ì´ ê°€ì¥ ì•½í•´ ì¢…ì´ í•œ ì¥ë„ ëš«ì§€ ëª»í•˜ëŠ” ê²ƒì€?",
        a: "ì•ŒíŒŒ(Î±)ì„ ",
        expl: "íˆ¬ê³¼ë ¥ì€ ì•½í•˜ì§€ë§Œ ì²´ë‚´ í”¼í­ ì‹œ ì¡°ì§ ì†ìƒ ìœ„í—˜ë„ê°€ ë§¤ìš° í½ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "13. ë°©ì‚¬ì„  íˆ¬ê³¼ë ¥ì´ ê°€ì¥ ê°•í•˜ì—¬ ë‚©ì´ë‚˜ ì½˜í¬ë¦¬íŠ¸ë¡œ ì°¨íí•´ì•¼ í•˜ëŠ” ë°©ì‚¬ì„ ì€?",
        a: "ê°ë§ˆ(Î³)ì„ ",
        expl: "ì „ë¦¬ì‘ìš©ì€ ì•½í•˜ì§€ë§Œ íˆ¬ê³¼ë ¥ì´ ë§¤ìš° ê°•í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "14. ì„¸í¬ë¶„ì—´ì´ ì™•ì„±í•˜ê³  ë¯¸ë¶„í™”ëœ ì„¸í¬ì¼ìˆ˜ë¡ ë°©ì‚¬ì„  ê°ìˆ˜ì„±ì´ ë†’ë‹¤ëŠ” ë²•ì¹™ì€?",
        a: "ë² ë¥´ê³ ë‹ˆ-íŠ¸ë¦¬ë´‰ë„(Bergonie-Tribondeau) ë²•ì¹™",
        expl: "ì´ ë²•ì¹™ì— ë”°ë¼ ì•”ì„¸í¬ë‚˜ ìƒì‹ì„¸í¬ê°€ ë°©ì‚¬ì„ ì— ë¯¼ê°í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "15. ì¸ì²´ ì¡°ì§ ì¤‘ ë°©ì‚¬ì„  ê°ìˆ˜ì„±ì´ ê°€ì¥ ë†’ì€(ì˜ˆë¯¼í•œ) ì¡°ì§ 3ê°€ì§€ëŠ” ë¦¼í”„ì¡°ì§, ê³¨ìˆ˜, ê·¸ë¦¬ê³  ë¬´ì—‡ì¸ê°€?",
        a: "ì„±ì„  (ìƒì‹ì„¸í¬)",
        expl: "ì„¸í¬ ë¶„ì—´ì´ ì™•ì„±í•œ ì¡°ì§ë“¤ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "16. ë°©ì‚¬ì„  ê°ìˆ˜ì„±ì´ ê°€ì¥ ë‚®ì•„ ì €í•­ì„±ì´ ê°•í•œ ì¡°ì§ì€?",
        a: "ì‹ ê²½, ê·¼ìœ¡, ë¼ˆ",
        expl: "ì„¸í¬ ë¶„ì—´ì´ ì ê±°ë‚˜ ê±°ì˜ ì—†ëŠ” ì¡°ì§ë“¤ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "17. ì†ŒìŒìœ¼ë¡œ ì¸í•œ ì²­ë ¥ ì†ì‹¤ì´ ê°€ì¥ ë¨¼ì € ë‚˜íƒ€ë‚˜ëŠ” ì£¼íŒŒìˆ˜ ëŒ€ì—­(C5 dip)ì€?",
        a: "4000 Hz",
        expl: "ì†ŒìŒì„± ë‚œì²­ì˜ ì´ˆê¸° ì§•í›„ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "18. ì§„ë™(Chipping hammer ë“±) ì‘ì—…ìì—ê²Œì„œ ë§ì´ˆ í˜ˆê´€ ìˆ˜ì¶•ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì§ì—…ë³‘ì€?",
        a: "ë ˆì´ë…¸ ì¦í›„êµ° (Raynaud's phenomenon)",
        expl: "ì§„ë™ê¸°ì¸ì„± ë°±ì§€ì¦ì´ë¼ê³ ë„ ë¶€ë¦…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "19. ìœ„í•´ì„± í‰ê°€(Risk Assessment)ì˜ 4ë‹¨ê³„ ìˆœì„œë¥¼ ë‚˜ì—´í•˜ì‹œì˜¤.",
        a: "ìœ í•´ì„± í™•ì¸ -> ìš©ëŸ‰-ë°˜ì‘ í‰ê°€ -> ë…¸ì¶œ í‰ê°€ -> ìœ„í•´ë„ ê²°ì •",
        expl: "Hazard Identification -> Dose-Response Assessment -> Exposure Assessment -> Risk Characterization"
    },
    {
        type: "text",
        q: "20. ë¹„ë°œì•”ë¬¼ì§ˆì˜ ìœ„í•´ì„± í‰ê°€ ì‹œ, ë™ë¬¼ì‹¤í—˜ì—ì„œ ìœ í•´í•œ ì˜í–¥ì´ ê´€ì°°ë˜ì§€ ì•ŠëŠ” ìµœëŒ€ ìš©ëŸ‰ì„ ëœ»í•˜ëŠ” ìš©ì–´ëŠ”?",
        a: "NOAEL (No Observed Adverse Effect Level)",
        expl: "ë…ì„±ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ìµœê³  ìš©ëŸ‰ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "21. ì¸ì²´ í—ˆìš© ì•ˆì „ ìš©ëŸ‰ì¸ RfD(Reference Dose)ë¥¼ ì‚°ì¶œí•˜ëŠ” ê³µì‹ì€?",
        a: "NOAEL / (ë¶ˆí™•ì‹¤ì„± ê³„ìˆ˜ UF Ã— ì¡°ì • ê³„ìˆ˜ MF)",
        expl: "ë™ë¬¼ ì‹¤í—˜ ë°ì´í„°ë¥¼ ì¸ì²´ì— ì ìš©í•˜ê¸° ìœ„í•´ ì•ˆì „ê³„ìˆ˜ë¥¼ ë‚˜ëˆ„ì–´ ê³„ì‚°í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "22. ë¹„ë°œì•”ë¬¼ì§ˆì˜ ìœ„í•´ë„ íŒì • ê¸°ì¤€ìœ¼ë¡œ, 1ì„ ì´ˆê³¼í•˜ë©´ ìœ„í•´ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ê³  íŒë‹¨í•˜ëŠ” ê°’ì€?",
        a: "ìœ„í•´ì§€ìˆ˜ (Hazard Index)",
        expl: "ë…¸ì¶œëŸ‰ / RfD ê°’ì´ 1ì„ ë„˜ìœ¼ë©´ ìœ„í—˜í•˜ë‹¤ê³  íŒë‹¨í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "23. ë°œì•”ë¬¼ì§ˆê³¼ ê°™ì´ ì—­ì¹˜ê°€ ì—†ë‹¤ê³  ê°€ì •í•˜ëŠ” ë¬¼ì§ˆì˜ ìœ„í•´ì„± í‰ê°€ì— ì‚¬ìš©í•˜ëŠ” ê°œë…ìœ¼ë¡œ, í‰ìƒ ë…¸ì¶œë˜ì—ˆì„ ë•Œ í—ˆìš© ê°€ëŠ¥í•œ ìœ„í—˜ ìˆ˜ì¤€(ì˜ˆ: 10^-6)ì— í•´ë‹¹í•˜ëŠ” ìš©ëŸ‰ì€?",
        a: "ì‹¤ì§ˆì•ˆì „ìš©ëŸ‰ (VSD, Virtually Safe Dose)",
        expl: "ë°œì•”ë¬¼ì§ˆì€ ì•ˆì „ ì—­ì¹˜ê°€ ì—†ë‹¤ê³  ê°„ì£¼í•˜ë¯€ë¡œ VSD ê°œë…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "24. ì²´ë‚´ì— ì¶•ì ëœ ì§€ìš©ì„± ìœ í•´ë¬¼ì§ˆ(DDT, PCB ë“±)ì´ ì£¼ë¡œ ì €ì¥ë˜ëŠ” ì¡°ì§ì€?",
        a: "ì§€ë°© ì¡°ì§",
        expl: "ì§€ìš©ì„±ì´ ë†’ì€ ë¬¼ì§ˆì€ ì§€ë°© ì¡°ì§ì— ì¶•ì ë˜ì–´ ë°˜ê°ê¸°ê°€ ê¸¸ì–´ì§‘ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "25. ë¼ˆì— ì¶•ì ë˜ê¸° ì‰¬ìš°ë©° ë°˜ê°ê¸°ê°€ ë§¤ìš° ê¸´ ì¤‘ê¸ˆì† ë‘ ê°€ì§€ëŠ”?",
        a: "ë‚©(Pb), ë¶ˆì†Œ(F)",
        expl: "ì´ë“¤ì€ ë¼ˆì˜ ì¹¼ìŠ˜ê³¼ ì¹˜í™˜ë˜ê±°ë‚˜ ê²°í•©í•˜ì—¬ ì˜¤ë˜ ì”ë¥˜í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "26. ì¼ë°˜ì ìœ¼ë¡œ 2ìƒ ëŒ€ì‚¬ëŠ” ìˆ˜ìš©ì„±ì„ ë†’ì—¬ ë…ì„±ì„ ê°ì†Œì‹œí‚¤ì§€ë§Œ, DMBA, Safrole, 2-AAF ê°™ì€ ë¬¼ì§ˆì€ 'ì´ í¬í•© ë°˜ì‘'ì„ ê±°ì¹˜ë©´ì„œ ì˜¤íˆë ¤ ë…ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤. ì´ ë°˜ì‘ì€?",
        a: "í™©ì‚° í¬í•© (Sulfate conjugation)",
        expl: "ì¼ë¶€ ë¬¼ì§ˆì€ í™©ì‚° í¬í•© í›„ ë°˜ì‘ì„±ì´ í° ì¹œì „ìì²´ê°€ ë˜ì–´ ë…ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "27. í†¨ë£¨ì—”(Toluene) ë…¸ì¶œ ì‹œ ì†Œë³€ìœ¼ë¡œ ë°°ì„¤ë˜ëŠ” ì£¼ìš” ëŒ€ì‚¬ì²´ëŠ”?",
        a: "ë§ˆë‡¨ì‚° (Hippuric acid)",
        expl: "í†¨ë£¨ì—” ë…¸ì¶œì˜ ìƒë¬¼í•™ì  ëª¨ë‹ˆí„°ë§ ì§€í‘œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "28. ì•½ë¬¼ ëŒ€ì‚¬ ë°˜ì‘ ì¤‘ Phase 1(ì œ1ìƒ) ë°˜ì‘ì˜ ëŒ€í‘œì ì¸ 3ê°€ì§€ ìœ í˜•ì€ ì‚°í™”, í™˜ì›, ê·¸ë¦¬ê³  ë¬´ì—‡ì¸ê°€?",
        a: "ê°€ìˆ˜ë¶„í•´ (Hydrolysis)",
        expl: "1ìƒ ë°˜ì‘ì€ ì‘ìš©ê¸°ë¥¼ ë„ì…í•˜ê±°ë‚˜ ë…¸ì¶œì‹œì¼œ ìˆ˜ìš©ì„±ì„ ì•½ê°„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "29. ì œ2ìƒ ë°˜ì‘ ì¤‘ ê°€ì¥ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ë©°, UDPGAë¥¼ ê³µì—¬ì²´ë¡œ ì‚¬ìš©í•˜ì—¬ ì•½ë¬¼ì˜ ìˆ˜ìš©ì„±ì„ í¬ê²Œ ë†’ì—¬ ë°°ì„¤ì„ ì´‰ì§„í•˜ëŠ” ëŒ€í‘œì ì¸ í¬í•© ë°˜ì‘ì€?",
        a: "ê¸€ë£¨ì¿ ë¡ ì‚° í¬í•© (Glucuronide conjugation)",
        expl: "ê°€ì¥ ìš©ëŸ‰ì´ í¬ê³  ì¼ë°˜ì ì¸ í¬í•© ë°˜ì‘ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "30. Cytochrome P450(CYP) ë“± íš¨ì†Œê°€ ê´€ì—¬í•˜ì—¬ ì§€ìš©ì„± ì•½ë¬¼ì„ ìˆ˜ìš©ì„±ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜ í™œì„±ì„ ë³€í™”ì‹œí‚¤ëŠ” ëŒ€ì‚¬ ë‹¨ê³„ëŠ”?",
        a: "ì œ1ìƒ ëŒ€ì‚¬ (Phase I)",
        expl: "ì£¼ë¡œ ì‚°í™” ë°˜ì‘ì„ í†µí•´ ì§„í–‰ë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "31. ì—íƒ„ì˜¬(Ethanol)ì´ ì•„ì„¸íŠ¸ì•Œë°íˆë“œ(Acetaldehyde)ë¡œ ì‚°í™”ë  ë•Œ ê´€ì—¬í•˜ëŠ” íš¨ì†ŒëŠ”? (CYP ê³„ì—´)",
        a: "CYP2E1",
        expl: "ì£¼ë¡œ ë§Œì„±ì ì¸ ìŒì£¼ ì‹œ ìœ ë„ë˜ëŠ” íš¨ì†Œì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "32. Prontosilì´ ì²´ë‚´ì—ì„œ Azoí™˜ì›ì„ í†µí•´ ë¶ˆí™œì„±í™” ë˜ì–´ Met-Hbë¥¼ ìœ ë°œí•˜ëŠ” ì´ ë¬¼ì§ˆë¡œ ë³€í™˜ëœë‹¤. í•´ë‹¹ ë¬¼ì§ˆì€?",
        a: "Triaminobenzene",
        expl: "ì„¤íŒŒì œ(Sulfanilamide)ì˜ ì „êµ¬ë¬¼ì§ˆ ì—­ì‚¬ì™€ ê´€ë ¨ ìˆìŠµë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "33. Nitrobenzeneì´ í™˜ì›ë˜ì–´ ìƒì„±ë˜ë©°, Met-Hb í˜ˆì¦ì„ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€?",
        a: "Phenylhydroxylamine (ë˜ëŠ” Aniline)",
        expl: "ì´ ë¬¼ì§ˆë“¤ì´ í—¤ëª¨ê¸€ë¡œë¹ˆì„ ì‚°í™”ì‹œì¼œ ë©”íŠ¸í—¤ëª¨ê¸€ë¡œë¹ˆí˜ˆì¦ì„ ì¼ìœ¼í‚µë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "34. ì•„ìŠ¤í”¼ë¦°(Aspirin)ì´ ê°€ìˆ˜ë¶„í•´ë˜ì–´ ìƒì„±ë˜ëŠ” ëŒ€ì‚¬ì²´ ë‘ ê°€ì§€ëŠ”?",
        a: "Salicylic acid, Acetic acid",
        expl: "ì—ìŠ¤í…Œë¥´ ê²°í•©ì´ ëŠì–´ì§€ë©° ìƒì„±ë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "35. Glucuronide í¬í•© ë°˜ì‘ì— ì‚¬ìš©ë˜ëŠ” ê³µì—¬ì²´(Cofactor)ëŠ”?",
        a: "UDPGA (Uridine diphospho-glucuronic acid)",
        expl: "í™œì„±í˜• ê¸€ë£¨ì¿ ë¡ ì‚°ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "36. Sulfate(í™©ì‚°) í¬í•© ë°˜ì‘ì— ì‚¬ìš©ë˜ëŠ” í™œì„±í˜• í™©ì‚° ê³µì—¬ì²´ëŠ”?",
        a: "PAPS (3'-phosphoadenosine-5'-phosphosulfate)",
        expl: "í™©ì‚° í¬í•©ì„ ìœ„í•´ì„œëŠ” í™©ì‚°ê¸°ê°€ PAPS í˜•íƒœë¡œ í™œì„±í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "37. Benzoic acid(ì•ˆì‹í–¥ì‚°)ê°€ Glycineê³¼ í¬í•©í•˜ì—¬ ìƒì„±ë˜ëŠ” ë¬¼ì§ˆì€?",
        a: "Hippuric acid (ë§ˆë‡¨ì‚°)",
        expl: "ì•„ë¯¸ë…¸ì‚° í¬í•©ì˜ ëŒ€í‘œì ì¸ ì˜ˆì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "38. ì‹ ìƒì•„ì—ì„œ UGT1A1 ê²°í•ìœ¼ë¡œ ì¸í•´ ë¹Œë¦¬ë£¨ë¹ˆ ëŒ€ì‚¬ê°€ ì €í•´ë˜ì–´ ë‚˜íƒ€ë‚˜ëŠ” í•µí™©ë‹¬ ì¦ìƒì€?",
        a: "Crigler-Najjar ì¦í›„êµ°",
        expl: "ê¸€ë£¨ì¿ ë¡ ì‚° í¬í•© íš¨ì†Œì˜ ìœ ì „ì  ê²°í•ì´ ì›ì¸ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "39. Glutathione í¬í•© ë°˜ì‘ì˜ ìµœì¢… ì‚°ë¬¼ë¡œ, ì†Œë³€ìœ¼ë¡œ ë°°ì„¤ë˜ëŠ” í˜•íƒœëŠ”?",
        a: "Mercapturic acid",
        expl: "ê¸€ë£¨íƒ€ì¹˜ì˜¨ í¬í•© í›„ ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ ê±°ì³ ìµœì¢…ì ìœ¼ë¡œ ë¨¸ìº…íˆ¬ì‚°ì´ ë˜ì–´ ë°°ì„¤ë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "40. ìœ ì „ì  ë‹¤í˜•ì„±(Genetic Polymorphism)ìœ¼ë¡œ ì¸í•´ Isoniazid ëŒ€ì‚¬ ì†ë„ì— ì°¨ì´ê°€ ë‚˜ëŠ” ë°˜ì‘ì€?",
        a: "ì•„ì„¸í‹¸í™” (Acetylation)",
        expl: "NAT2 íš¨ì†Œì˜ ë‹¤í˜•ì„±ìœ¼ë¡œ ì¸í•´ ë¹ ë¥¸ ëŒ€ì‚¬ìì™€ ëŠë¦° ëŒ€ì‚¬ìë¡œ ë‚˜ë‰©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "41. Isoniazidì˜ ëŒ€ì‚¬ê°€ ëŠë¦° ì‚¬ëŒ(Slow acetylator)ì—ê²Œì„œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆëŠ” ë¶€ì‘ìš©ì€?",
        a: "ë§ì´ˆì‹ ê²½ì—¼ (ë¹„íƒ€ë¯¼ B6 ê²°í• ìœ ë°œ)",
        expl: "ì•½ë¬¼ ë†ë„ê°€ ë†’ê²Œ ìœ ì§€ë˜ì–´ ë…ì„±ì´ ë‚˜íƒ€ë‚˜ê¸° ì‰½ìŠµë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "42. ì¼ë°˜ì ìœ¼ë¡œ í¬í•© ë°˜ì‘ì€ í•´ë… ê³¼ì •ì´ì§€ë§Œ, Glucuronide í¬í•©ì„ ê±°ì¹œ í›„ ì˜¤íˆë ¤ ë…ì„±ì´ ì¦ê°€í•˜ì—¬ ë°©ê´‘ì•”ì„ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€?",
        a: "2-Naphthylamine (2-ë‚˜í”„í‹¸ì•„ë¯¼)",
        expl: "ë°©ê´‘ì—ì„œ pH ì¡°ê±´ì— ì˜í•´ í¬í•©ì²´ê°€ ë¶„í•´ë˜ë©´ì„œ ë°œì•”ë¬¼ì§ˆì´ ìœ ë¦¬ë©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "43. ìƒìˆ˜ì›ì— í˜ë†€(Phenol)ì´ ì˜¤ì—¼ëœ ìƒíƒœì—ì„œ ì—¼ì†Œ ì†Œë…ì„ í•  ë•Œ ìƒì„±ë˜ë©°, ì‹¬í•œ ì•…ì·¨ë¥¼ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€?",
        a: "í´ë¡œë¡œí˜ë†€ (Chlorophenol)",
        expl: "ì´ì·¨ë¯¸(ë‚˜ìœ ëƒ„ìƒˆì™€ ë§›)ì˜ ì£¼ì›ì¸ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "44. ë¬¼ì†ì˜ ì¹¼ìŠ˜(Ca), ë§ˆê·¸ë„¤ìŠ˜(Mg) ì´ì˜¨ì˜ í•¨ëŸ‰ì„ íƒ„ì‚°ì¹¼ìŠ˜(CaCO3)ìœ¼ë¡œ í™˜ì‚°í•˜ì—¬ ë‚˜íƒ€ë‚´ëŠ” ìˆ˜ì§ˆ ì§€í‘œëŠ”?",
        a: "ê²½ë„ (Hardness)",
        expl: "ê²½ë„ê°€ ë†’ìœ¼ë©´ ë¹„ëˆ„ê°€ ì˜ í’€ë¦¬ì§€ ì•Šê³  ë³´ì¼ëŸ¬ì— ê´€ì„(Scale)ì´ ìƒê¹ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "45. í˜ê¸°ì„± ìƒíƒœì—ì„œ ìœ ê¸°ë¬¼ì´ ë¶„í•´ë  ë•Œ ì£¼ë¡œ ë°œìƒí•˜ëŠ” ê°€ìŠ¤ë¡œ, ì•…ì·¨ì˜ ì›ì¸ì´ ë˜ëŠ” ê²ƒì€ ì•”ëª¨ë‹ˆì•„ì™€ ë¬´ì—‡ì¸ê°€?",
        a: "í™©í™”ìˆ˜ì†Œ (H2S)",
        expl: "ë‹¬ê±€ ì©ëŠ” ëƒ„ìƒˆê°€ íŠ¹ì§•ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "46. ìˆ˜ì¤‘ ìœ ê¸°ë¬¼ ë¶„í•´ ê³¼ì • ì¤‘ ìƒì„±ë˜ë©°, ê²€ì¶œ ì‹œ 'ê³¼ê±°ì˜ ì˜¤ì—¼'ì„ ì˜ë¯¸í•˜ê³  ìœ ì•„ì—ê²Œ ì²­ìƒ‰ì¦ì„ ìœ ë°œí•˜ëŠ” ë¬¼ì§ˆì€?",
        a: "ì§ˆì‚°ì„± ì§ˆì†Œ (NO3-N)",
        expl: "ìµœì¢… ì‚°í™”ë¬¼ í˜•íƒœì´ë¯€ë¡œ ì˜¤ì—¼ëœ ì§€ ì˜¤ë˜ë˜ì—ˆìŒì„ ëœ»í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "47. í•˜ìˆ˜ë‚˜ ê³µì¥íìˆ˜ ë“±ì˜ ìœ ê¸°ë¬¼ ì˜¤ì—¼ ì²™ë„ë¡œ, ì‚°í™”ì œ(KMnO4 ë“±)ë¥¼ ì´ìš©í•˜ì—¬ ì†Œë¹„ë˜ëŠ” ì‚°ì†ŒëŸ‰ì„ ì¸¡ì •í•˜ëŠ” ì§€í‘œëŠ”?",
        a: "COD (í™”í•™ì  ì‚°ì†Œ ìš”êµ¬ëŸ‰)",
        expl: "í™”í•™ì ìœ¼ë¡œ ì‚°í™”ì‹œí‚¬ ë•Œ í•„ìš”í•œ ì‚°ì†ŒëŸ‰ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "48. ë¬¼ì˜ ë¶€íŒ¨ ì •ë„ë¥¼ ìƒë¬¼í•™ì ìœ¼ë¡œ íŒì •í•˜ëŠ” BIP ì‹ (B / A+B) Ã— 100 ì—ì„œ 'B'ê°€ ì˜ë¯¸í•˜ëŠ” ìƒë¬¼êµ°ì€?",
        a: "ë¬´ìƒ‰íˆ¬ëª… ìƒë¬¼ (ë™ë¬¼ì„± í”Œë‘í¬í†¤/ë¯¸ìƒë¬¼)",
        expl: "ì˜¤ì—¼ëœ ë¬¼ì¼ìˆ˜ë¡ ì—½ë¡ì†Œê°€ ì—†ëŠ” ë¯¸ìƒë¬¼(B)ì˜ ë¹„ìœ¨ì´ ë†’ì•„ì§‘ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "49. ìˆ˜ì§ˆ ì˜¤ì—¼ì˜ ì§€í‘œìƒë¬¼êµ° ì¤‘, ìš©ì¡´ì‚°ì†Œê°€ ê±°ì˜ ì—†ê³  Zoogloea ë“±ì´ ì„œì‹í•˜ëŠ” ê°€ì¥ ì˜¤ì—¼ì´ ì‹¬í•œ ìˆ˜ì—­ì€?",
        a: "ê°•ë¶€ìˆ˜ì„± (Polysaprobic zone)",
        expl: "ê°€ì¥ ë”ëŸ¬ìš´ ë¬¼ ë“±ê¸‰ì— í•´ë‹¹í•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "50. ìŒìš©ìˆ˜ ê¸°ì¤€ì—ì„œ 'ë¶ˆê²€ì¶œ'ë˜ì–´ì•¼ í•˜ë©°, ë¶„ë³€ ì˜¤ì—¼ì˜ ê°€ì¥ í™•ì‹¤í•œ ì§€í‘œë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€?",
        a: "ëŒ€ì¥ê· êµ° (Coliform group)",
        expl: "ë³‘ì›ê·  ì¡´ì¬ ê°€ëŠ¥ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "S1. (ì—°ê³„) ë©”íƒ„ì˜¬(Methanol)ì´ ëŒ€ì‚¬ë˜ì–´ ì‹œì‹ ê²½ ì†ìƒ(ëˆˆ ë©€ìŒ)ì„ ìœ ë°œí•˜ëŠ” ë…ì„± ëŒ€ì‚¬ì²´ëŠ”?",
        a: "í¬ë¦„ì‚° (Formic acid)",
        expl: "ë©”íƒ„ì˜¬ -> í¬ë¦„ì•Œë°íˆë“œ -> í¬ë¦„ì‚°ìœ¼ë¡œ ëŒ€ì‚¬ë˜ë©°, í¬ë¦„ì‚°ì´ ì‹œì‹ ê²½ ë…ì„±ì„ ì¼ìœ¼í‚µë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "S2. (ì—°ê³„) ì‹ ìƒì•„ëŠ” Glucuronide í¬í•© ëŠ¥ë ¥ì´ ë¶€ì¡±í•˜ì—¬ í•­ìƒì œ í´ë¡œëŒí˜ë‹ˆì½œ íˆ¬ì—¬ ì‹œ 'ì´ ì¦í›„êµ°'ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë¬´ì—‡ì¸ê°€?",
        a: "íšŒìƒ‰ìœ ì•„ì¦í›„êµ° (Gray baby syndrome)",
        expl: "ì•½ë¬¼ì´ ë°°ì„¤ë˜ì§€ ëª»í•˜ê³  ì¶•ì ë˜ì–´ ì²­ìƒ‰ì¦, í˜¸í¡ë¶€ì „ ë“±ì„ ìœ ë°œí•©ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "S3. (ì—°ê³„) í˜ë†€ ì˜¤ì—¼ ì‹œ ì—¼ì†Œ ì†Œë… ëŒ€ì‹  ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì†Œë…ì œ ë‘ ê°€ì§€ëŠ”?",
        a: "ì´ì‚°í™”ì—¼ì†Œ(ClO2), ì˜¤ì¡´(O3)",
        expl: "ì—¼ì†Œë¥¼ ì“°ë©´ ì•…ì·¨ê°€ ë‚˜ëŠ” í´ë¡œë¡œí˜ë†€ì´ ìƒì„±ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "S4. (ì—°ê³„) ë°©ì‚¬ì„ ì´ ì¸ì²´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ í‰ê°€í•˜ê¸° ìœ„í•´ í¡ìˆ˜ì„ ëŸ‰ì— ê°€ì¤‘ì¹˜ë¥¼ ê³±í•´ ì‚°ì¶œí•˜ëŠ” ë‹¨ìœ„(Sv)ì˜ ëª…ì¹­ì€?",
        a: "ì‹œë²„íŠ¸ (Sievert)",
        expl: "ìƒë¬¼í•™ì  íš¨ê³¼ë¥¼ ë°˜ì˜í•œ ìœ íš¨ì„ ëŸ‰ ë‹¨ìœ„ì…ë‹ˆë‹¤."
    },
    {
        type: "text",
        q: "S5. (ì—°ê³„) ë²¤ì  ì€ ëŒ€ì‚¬ ê³¼ì •ì—ì„œ ê³¨ìˆ˜ ë…ì„±ì„ ìœ ë°œí•˜ì—¬ ê²°ê³¼ì ìœ¼ë¡œ ì–´ë–¤ ì§ˆë³‘ì„ ì¼ìœ¼í‚¤ëŠ”ê°€?",
        a: "ì¬ìƒë¶ˆëŸ‰ì„± ë¹ˆí˜ˆ (ë˜ëŠ” ë°±í˜ˆë³‘)",
        expl: "ì¡°í˜ˆëª¨ì„¸í¬ê°€ íŒŒê´´ë˜ì–´ ë°œìƒí•©ë‹ˆë‹¤."
    }
];


    let currentQuestion = 0;
    // ì‚¬ìš©ì ë‹µì•ˆ ì €ì¥
    let userAnswers = new Array(quizData.length).fill(null);
    // ì£¼ê´€ì‹ ì •ë‹µ ì—¬ë¶€ ì €ì¥
    let textCorrectness = new Array(quizData.length).fill(null);

    const questionText = document.getElementById("question-text");
    const optionsList = document.getElementById("options-list");
    const inputArea = document.getElementById("input-area");
    const textInput = document.getElementById("text-input");
    const submitBtn = document.getElementById("submit-answer-btn");
    
    const feedback = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    const progress = document.getElementById("progress");
    const quizBox = document.getElementById("quiz-box");
    const resultScreen = document.getElementById("result-screen");
    const finalScore = document.getElementById("final-score");
    const scoreMessage = document.getElementById("score-message");

    // ì—”í„°í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸
    textInput.addEventListener("keydown", function(event) {
        if (event.key === "Enter" && !submitBtn.disabled) {
            checkTextAnswer();
        }
    });

    function loadQuestion() {
        const q = quizData[currentQuestion];
        questionText.innerText = q.q;
        optionsList.innerHTML = "";
        feedback.style.display = "none";
        progress.innerText = `ë¬¸ì œ ${currentQuestion + 1} / ${quizData.length}`;
        
        prevBtn.style.display = (currentQuestion === 0) ? "none" : "block";

        const qType = q.type || "choice";

        if (qType === "text") {
            // [ì£¼ê´€ì‹ ëª¨ë“œ]
            optionsList.style.display = "none";
            inputArea.style.display = "flex";
            
            if (userAnswers[currentQuestion] !== null) {
                textInput.value = userAnswers[currentQuestion];
                textInput.disabled = true;
                submitBtn.disabled = true;
                showFeedbackText(textCorrectness[currentQuestion]);
            } else {
                textInput.value = "";
                textInput.disabled = false;
                submitBtn.disabled = false;
                nextBtn.style.display = "none";
                textInput.focus();
            }

        } else {
            // [ê°ê´€ì‹ ëª¨ë“œ] - ë°ì´í„°ì— ê°ê´€ì‹ ë¬¸ì œê°€ ì¶”ê°€ë  ê²½ìš°ë¥¼ ëŒ€ë¹„
            optionsList.style.display = "block";
            inputArea.style.display = "none";
            
            const answeredIndex = userAnswers[currentQuestion];
            const isAnswered = answeredIndex !== null;

            if (isAnswered) {
                showFeedbackChoice(answeredIndex);
            } else {
                nextBtn.style.display = "none";
            }

            // ê°ê´€ì‹ ë³´ê¸°ê°€ ìˆë‹¤ë©´ ìƒì„±
            if(q.a && Array.isArray(q.a)) {
                q.a.forEach((option, index) => {
                    const li = document.createElement("li");
                    const btn = document.createElement("button");
                    btn.innerText = option;
                    
                    if (isAnswered) {
                        btn.disabled = true;
                        if (index === q.c) btn.classList.add("correct");
                        else if (index === answeredIndex && index !== q.c) btn.classList.add("wrong");
                    } else {
                        btn.onclick = () => checkChoiceAnswer(index, btn);
                    }
                    li.appendChild(btn);
                    optionsList.appendChild(li);
                });
            }
        }
    }

    // ì£¼ê´€ì‹ ì •ë‹µ ì²´í¬ (í•µì‹¬ í‚¤ì›Œë“œ ë§¤ì¹­ ë¡œì§ ì ìš©)
    function checkTextAnswer() {
        const userVal = textInput.value.trim();
        if (!userVal) return; 

        userAnswers[currentQuestion] = userVal;
        
        const q = quizData[currentQuestion];
        
        // 1. ì‚¬ìš©ì ì…ë ¥ ì •ê·œí™” (ì†Œë¬¸ì ë³€í™˜, ê³µë°± ì œê±°)
        const cleanUser = userVal.toLowerCase().replace(/\s+/g, "");
        const originAns = q.a;
        
        // 2. ì •ë‹µ ë¬¸ìì—´ì„ ë¶„í•´í•˜ì—¬ í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸ ìƒì„±
        // ê´„í˜¸(), ì½¤ë§ˆ(,), ìŠ¬ë˜ì‹œ(/), ë”í•˜ê¸°(+) ë“±ì„ êµ¬ë¶„ìë¡œ ì‚¬ìš©
        // ì˜ˆ: "íŒŒê´´ì  (ë¶ˆì—°ì†ì , Breakpoint)" -> ["íŒŒê´´ì ", "ë¶ˆì—°ì†ì ", "breakpoint"]
        let processedAns = originAns
            .replace(/[\(\),\/+]/g, "|") // êµ¬ë¶„ìë¥¼ íŒŒì´í”„ë¡œ ë³€ê²½
            .replace(/->/g, "|")         // í™”ì‚´í‘œ ì œê±°
            .replace(/(A:|B:)/g, "|");   // A:, B: ë¼ë²¨ ì œê±°

        // ë°°ì—´ë¡œ ë§Œë“¤ê³  ì •ê·œí™”
        const keywords = processedAns.split("|")
            .map(k => k.toLowerCase().replace(/\s+/g, ""))
            .filter(k => k.length > 0);

        // 3. ì •ë‹µ íŒë³„: í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ë¼ë„ ì •í™•íˆ ì¼ì¹˜í•˜ë©´ ì •ë‹µ
        let isCorrect = false;

        // Case A: í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸ì— ì‚¬ìš©ì ì…ë ¥ì´ ì •í™•íˆ í¬í•¨ëœ ê²½ìš°
        if (keywords.includes(cleanUser)) {
            isCorrect = true;
        } 
        // Case B: í˜¹ì‹œ ì‚¬ìš©ìê°€ ì „ì²´ í’€ë„¤ì„ì„ ì¼ëŠ”ë° ë„ì–´ì“°ê¸°ë§Œ í‹€ë¦° ê²½ìš°ë¥¼ ëŒ€ë¹„
        else if (cleanUser.length > 1 && originAns.toLowerCase().replace(/\s+/g, "").includes(cleanUser)) {
             // ë‹¨, ë„ˆë¬´ ì§§ì€ ë‹¨ì–´(1ê¸€ì)ê°€ í¬í•¨ë˜ëŠ” ê±´ ì˜¤ë‹µ ì²˜ë¦¬ (ì˜ˆ: 'ì ' ì…ë ¥ ì‹œ 'íŒŒê´´ì ' ì¸ì • ì•ˆí•¨)
             // ì—¬ê¸°ì„œ ì¢€ ë” ì—„ê²©í•˜ê²Œ í•˜ë ¤ë©´ Case Aë§Œ ì¨ë„ ë¨. 
             // í•˜ì§€ë§Œ "ì—¼ì†Œì†Œë…" ê°™ì€ ë³µí•©ì–´ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‚¨ê²¨ë‘ .
             // ì•ˆì „í•˜ê²Œ í•˜ê¸° ìœ„í•´, ì…ë ¥ê°’ì´ í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ì˜ 'ì¼ë¶€ë¶„'ì´ ì•„ë‹ˆë¼,
             // ì •ë‹µ ì „ì²´ ë¬¸ìì—´ì—ì„œ ë§¤ì¹­ë˜ëŠ”ì§€ í™•ì¸ (ë‹¨, 2ê¸€ì ì´ìƒ)
             // ì—¬ê¸°ì„œëŠ” í‚¤ì›Œë“œ ë§¤ì¹­(Case A)ì„ ìš°ì„ ì‹œí•˜ë˜, 
             // ì‚¬ìš©ìê°€ "íŒŒê´´ì ë¶ˆì—°ì†ì " ê°™ì´ ë‹¤ ë¶™ì—¬ ì“´ ê²½ìš°ë„ ì •ë‹µ ì²˜ë¦¬
             if (originAns.toLowerCase().replace(/[\(\),]/g, "").replace(/\s+/g, "") === cleanUser) {
                 isCorrect = true;
             }
        }

        textCorrectness[currentQuestion] = isCorrect;

        textInput.disabled = true;
        submitBtn.disabled = true;

        showFeedbackText(isCorrect);
    }

    // ì£¼ê´€ì‹ í”¼ë“œë°± í‘œì‹œ
    function showFeedbackText(isCorrect) {
        const q = quizData[currentQuestion];
        if (isCorrect) {
            textInput.style.borderColor = "#4CAF50"; 
            feedback.innerHTML = `<strong>ì •ë‹µì…ë‹ˆë‹¤! ğŸ™†â€â™‚ï¸</strong><br>${q.expl}`;
        } else {
            textInput.style.borderColor = "#f44336"; 
            feedback.innerHTML = `<strong>ì˜¤ë‹µì…ë‹ˆë‹¤ ğŸ™…â€â™‚ï¸</strong><br>ì •ë‹µì€ <strong>${q.a}</strong> ì…ë‹ˆë‹¤.<br>${q.expl}`;
        }
        feedback.style.display = "block";
        nextBtn.style.display = "block";
        updateNextBtnText();
    }

    function updateNextBtnText() {
        if (currentQuestion === quizData.length - 1) {
            nextBtn.innerText = "ê²°ê³¼ ë³´ê¸°";
        } else {
            nextBtn.innerText = "ë‹¤ìŒ ë¬¸ì œ â¡ï¸";
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        let finalScoreValue = 0;
        for (let i = 0; i < quizData.length; i++) {
            if (textCorrectness[i]) finalScoreValue++;
        }

        quizBox.style.display = "none";
        resultScreen.style.display = "block";
        finalScore.innerText = `${finalScoreValue} / ${quizData.length}ì `;
        
        if (finalScoreValue >= quizData.length * 0.8) {
            scoreMessage.innerText = "ëŒ€ë‹¨í•˜ë„¤! ì£¼ê´€ì‹ê¹Œì§€ ì™„ë²½í•´!";
        } else {
            scoreMessage.innerText = "ì¡°ê¸ˆ ë” ë¶„ë°œí•˜ê²Œ. ì“°ëŠ” ì—°ìŠµì´ ë” í•„ìš”í•´ ë³´ì—¬.";
        }
    }

    loadQuestion();
</script>

</body>
</html>
